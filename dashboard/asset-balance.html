<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <script type="text/javascript" src="../v3/index.htm"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- CSRF Token -->
    <meta name="csrf-token" content="9AUencLeaPkQhuF6eaDjc5RaG1AcsUUE0ur7vKWI">
    <title>Meritzinvestment | Exchange currency</title>

    <link rel="icon" href="../storage/app/public/photos/2CRBgD4XlBmDKF5o3P7RBXR7PSsw5tCtb6sKZ5bm.png" type="image/png">

    <!-- Core CSS -->
    <link href="../npm/tailwindcss%402.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="../3.4.16"></script>
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    screens: {
                        'xs': '375px',
                    },
                    colors: {
                        primary: {
                             DEFAULT: '#0052FF',
                           '50': '#e5efff',
                           '100': '#cce0ff',
                            '200': '#99c2ff',
                            '300': '#66a3ff',
                            '400': '#3385ff',
                            '500': '#0052FF',
                            '600': '#0048e6',
                            '700': '#003dbf',
                            '800': '#003399',
                            '900': '#002266',
                        },
                        secondary: {
                            DEFAULT: '#4A9D7F',
                            '50': '#E8F5F0',
                            '100': '#D1EBE1',
                            '200': '#A3D7C3',
                            '300': '#76C3A5',
                            '400': '#4A9D7F',
                            '500': '#3C7F65',
                            '600': '#2E614D',
                            '700': '#214435',
                            '800': '#13261E',
                            '900': '#040906',
                        },
                        tertiary: {
                            DEFAULT: '#627EEA', // Ethereum blue
                            '50': '#EDF0FC',
                            '100': '#DBE1F9',
                            '200': '#B7C3F3',
                            '300': '#93A6ED',
                            '400': '#627EEA',
                            '500': '#3053E4',
                            '600': '#173BCE',
                            '700': '#122FA8',
                            '800': '#0D2382',
                            '900': '#08165C',
                        },
                        accent: {
                            DEFAULT: '#F0B90B', // Binance yellow
                            '50': '#FEF9E6',
                            '100': '#FDF3CC',
                            '200': '#FAE699',
                            '300': '#F7DA66',
                            '400': '#F0B90B',
                            '500': '#C39508',
                            '600': '#967106',
                            '700': '#694D04',
                            '800': '#3C2A02',
                            '900': '#0F0A01',
                        },
                        danger: {
                            DEFAULT: '#FF6B6B',
                            '50': '#FFF0F0',
                            '100': '#FFE0E0',
                            '200': '#FFC2C2',
                            '300': '#FFA3A3',
                            '400': '#FF6B6B',
                            '500': '#FF3838',
                            '600': '#FF0505',
                            '700': '#D10000',
                            '800': '#9E0000',
                            '900': '#6B0000',
                        },
                        purple: {
                            DEFAULT: '#9164CC',
                            '50': '#F3EDFA',
                            '100': '#E7DCF5',
                            '200': '#CFB9EB',
                            '300': '#B796E0',
                            '400': '#9164CC',
                            '500': '#7642BE',
                            '600': '#5D33A0',
                            '700': '#44267C',
                            '800': '#2C1958',
                            '900': '#140B34',
                        },
                        dark: {
                            DEFAULT: '#1A1F2C',
                            '50': '#1E2430',
                            '100': '#2A303C',
                            '200': '#343D4F',
                            '300': '#3E4A62',
                        },
                        light: {
                            DEFAULT: '#F8FAFC',
                            '50': '#FFFFFF',
                            '100': '#F1F5F9',
                            '200': '#E2E8F0',
                            '300': '#CBD5E1',
                        },
                    },
                    animation: {
                        'in': 'fadeIn 0.3s ease-in-out',
                        'slide-in-top': 'slideInFromTop 0.3s ease-in-out',
                        'slide-in-bottom': 'slideInFromBottom 0.3s ease-in-out',
                    },
                    keyframes: {
                        fadeIn: {
                            'from': { opacity: '0' },
                            'to': { opacity: '1' }
                        },
                        slideInFromTop: {
                            'from': { transform: 'translateY(-20px)', opacity: '0' },
                            'to': { transform: 'translateY(0)', opacity: '1' }
                        },
                        slideInFromBottom: {
                            'from': { transform: 'translateY(20px)', opacity: '0' },
                            'to': { transform: 'translateY(0)', opacity: '1' }
                        }
                    }
                }
            }
        }
    </script>
 <script src="../lucide%400.515.0/dist/umd/lucide.min.js"></script>
    <!-- Lucide Icons -->
    <script src="../npm/lucide%40latest/dist/umd/lucide.min.js"></script>

    <!-- Additional libraries that are still needed -->
    <link rel="stylesheet" href="../dash2/libs/sweetalert2/dist/sweetalert2.min.css">
    <script src="../dash2/libs/sweetalert/sweetalert.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../v/bs4/dt-1.10.21/af-2.3.5/b-1.6.3/b-flash-1.6.3/b-html5-1.6.3/b-print-1.6.3/r-2.2.5/datatables.min.css">

    <!-- Alpine.js -->
    <script src="../gh/alpinejs/alpine%40v2.8.1/dist/alpine.min.js" defer=""></script>

    <!-- Select2 for dropdowns -->
    <link href="../ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet">
  <!--  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" integrity="sha512-fD9DI5bZwQxOi7MhYWnnNPlvXdp/2Pj3XSTRrFs5FQa4mizyGLnJcN6tuvUS6LbmgN1ut+XGSABKvjN0H6Aoow==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->
    <link rel="stylesheet" href="../FontAwesome6Pro/css/all.min.css">

    <!-- Custom Styles -->
    <style>
        @keyframes  fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes  slideInFromTop {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes  slideInFromBottom {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .animate-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        .slide-in-from-top {
            animation: slideInFromTop 0.3s ease-in-out;
        }
        .slide-in-from-bottom {
            animation: slideInFromBottom 0.3s ease-in-out;
        }

        /* DataTables responsive fixes */
        .dataTables_wrapper {
            overflow-x: auto;
            width: 100%;
        }

        /* Select2 dropdown fixes */
        .select2-container {
            width: 100% !important;
        }

        /* Light and Dark mode styles */
        .dark {
            color-scheme: dark;
        }

        /* Dark mode styles for DataTables */
        .dark .dataTables_wrapper .dataTable {
            background-color: #1E2430;
            color: #fff;
        }
        .dark .dataTables_wrapper .dataTable th,
        .dark .dataTables_wrapper .dataTable td {
            border-color: #2A303C;
        }
        .dark .dataTables_wrapper .dataTables_info,
        .dark .dataTables_wrapper .dataTables_paginate {
            color: #CBD5E1 !important;
        }

        /* Light mode styles for Select2 */
        .light .select2-container--default .select2-selection--single {
            background-color: #F8FAFC;
            border-color: #CBD5E1;
        }

        /* Dark mode styles for Select2 */
        .dark .select2-container--default .select2-selection--single {
            background-color: #1E2430;
            border-color: #2A303C;
            color: #F8FAFC;
        }
        .dark .select2-container--default .select2-selection--single .select2-selection__rendered {
            color: #F8FAFC;
        }
    </style>
    <style>[wire\:loading], [wire\:loading\.delay], [wire\:loading\.inline-block], [wire\:loading\.inline], [wire\:loading\.block], [wire\:loading\.flex], [wire\:loading\.table], [wire\:loading\.grid], [wire\:loading\.inline-flex] {display: none;}[wire\:loading\.delay\.shortest], [wire\:loading\.delay\.shorter], [wire\:loading\.delay\.short], [wire\:loading\.delay\.long], [wire\:loading\.delay\.longer], [wire\:loading\.delay\.longest] {display:none;}[wire\:offline] {display: none;}[wire\:dirty]:not(textarea):not(input):not(select) {display: none;}input:-webkit-autofill, select:-webkit-autofill, textarea:-webkit-autofill {animation-duration: 50000s;animation-name: livewireautofill;}@keyframes livewireautofill { from {} }</style>
    </head>

<body class="dark:bg-dark bg-light-100 dark:text-white text-dark transition-colors duration-200">
    <script>
        
    </script>

    <!-- Application container -->
    <div class="flex flex-col md:flex-row min-h-screen relative">
        <!-- Sidebar Overlay -->
<div id="sidebar-overlay" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-[10000] hidden transition-opacity duration-300"></div>

<!-- Modern Sidebar -->
<div class="fixed inset-y-0 left-0 z-[10010] w-72 transform dark:bg-gradient-to-b dark:from-dark-50 dark:to-dark bg-gradient-to-b from-light-100 to-light overflow-y-auto transition-all duration-300 ease-in-out md:relative md:translate-x-0 -translate-x-full shadow-2xl" id="sidenav-main">
    <div class="flex flex-col h-full">
        <!-- Sidebar Header with Branding -->
        <div class="flex h-16 items-center mt-4 dark:border-dark-100 border-light-200 border-b px-6">
           <a href="../dashboard.html" class="flex items-center gap-2 font-bold text-xl">
            <img src="../storage/app/public/photos/erS41GrjdsLGXfFderVWcZmCASGd6Rt2nIMEqnsg.png" alt="logo" class="h-8">
        </a>
            <div class="ml-auto md:hidden">
                <button class="dark:text-white text-dark-100 bg-transparent hover:text-primary transition-colors" id="closeSideNav">
                    <i data-lucide="x" class="h-5 w-5"></i>
                </button>
            </div>
        </div>

        <!-- User Profile Section with Modern Design -->
        <div class="relative mt-6 px-4 mb-6">
            <div class="p-4 rounded-xl dark:bg-dark-100/50 bg-light-200/50 backdrop-blur-sm dark:border-dark-100/40 border-light-200/40 border relative overflow-hidden group">
                <!-- Decorative background elements -->
                <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-b from-primary/10 to-transparent rounded-full blur-2xl transform translate-x-8 -translate-y-8 group-hover:translate-y-0 transition-transform duration-700"></div>
                <div class="absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-t from-secondary/10 to-transparent rounded-full blur-2xl transform -translate-x-8 translate-y-8 group-hover:translate-y-0 transition-transform duration-700"></div>

                <!-- User info with better layout -->
                <div class="flex flex-col items-center relative">
                    <div class="relative mb-3">
                        <!-- Avatar with gradient ring -->
                        <div class="absolute inset-0 bg-gradient-to-r from-primary to-secondary rounded-full blur-[1px]"></div>
                        <div class="relative bg-primary h-16 w-16 rounded-full flex items-center justify-center text-xl font-bold dark:border-dark/80 border-light-300/80 border-2">
                            ab
                        </div>

                        <!-- Status indicator -->
                        <div class="absolute bottom-0 right-0 h-4 w-4 bg-secondary rounded-full dark:border-dark border-light-300 border-2 shadow-lg"></div>
                    </div>

                    <h5 class="font-medium dark:text-white text-dark mb-0.5">abc</h5>
                    <span class="text-xs dark:text-gray-400 text-gray-600 mb-3 dark:bg-dark-50/50 bg-light-200/50 px-2 py-0.5 rounded-full">online</span>

                    <!-- Balance display with card-like design -->
                    <div class="dark:bg-gradient-to-r dark:from-dark-50 dark:to-dark-100 bg-gradient-to-r from-light-100 to-light-200 p-3 rounded-lg w-full flex items-center gap-2 dark:border-dark-100/60 border-light-200/60 border relative overflow-hidden">
                        <div class="h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center">
                            <i data-lucide="wallet" class="h-4 w-4 text-primary"></i>
                        </div>
                        <div>
                            <span class="text-xs dark:text-gray-400 text-gray-600 block">Balance</span>
                            <span class="text-sm font-medium dark:text-white text-dark">$0.00</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation Menu with Category Sections -->
        <div class="flex-1 px-3 py-2">
            <div class="space-y-6">
                <!-- Main Navigation Section -->
                <div>
                    <p class="text-xs font-medium text-gray-500 uppercase px-3 mb-2">Main</p>
                    <nav class="space-y-1">
                        <a href="../dashboard.html" class="flex items-center gap-3 rounded-lg dark:text-gray-300 text-gray-700 hover:bg-dark-100/60 dark:hover:bg-dark-100/60 hover:bg-light-200/60 px-3 py-2 transition-colors">
                            <i data-lucide="home" class="h-5 w-5"></i>
                            <span>Dashboard</span>
                        </a>

                        <a href="account-settings.html" class="flex items-center gap-3 rounded-lg dark:text-gray-300 text-gray-700 hover:bg-dark-100/60 dark:hover:bg-dark-100/60 hover:bg-light-200/60 px-3 py-2 transition-colors">
                            <i data-lucide="user" class="h-5 w-5"></i>
                            <span>Profile</span>
                        </a>
                    </nav>
                </div>

                <!-- Finance Section -->
                <div>
                    <p class="text-xs font-medium text-gray-500 uppercase px-3 mb-2">Finance</p>
                    <nav class="space-y-1">
                        <a href="deposits.html" class="flex items-center gap-3 rounded-lg dark:text-gray-300 text-gray-700 hover:bg-dark-100/60 dark:hover:bg-dark-100/60 hover:bg-light-200/60 px-3 py-2 transition-colors">
                            <i data-lucide="download" class="h-5 w-5"></i>
                            <span>Deposit</span>
                        </a>

                                                <a href="../user/confirm-password.html" class="flex items-center gap-3 rounded-lg dark:text-gray-300 text-gray-700 hover:bg-dark-100/60 dark:hover:bg-dark-100/60 hover:bg-light-200/60 px-3 py-2 transition-colors">
                            <i data-lucide="upload" class="h-5 w-5"></i>
                            <span>Withdraw</span>
                        </a>
                        
                        <a href="accounthistory.html" class="flex items-center gap-3 rounded-lg dark:text-gray-300 text-gray-700 hover:bg-dark-100/60 dark:hover:bg-dark-100/60 hover:bg-light-200/60 px-3 py-2 transition-colors">
                            <i data-lucide="history" class="h-5 w-5"></i>
                            <span>Transactions</span>
                        </a>

                                            </nav>
                </div>

                <!-- Investment Section -->
                                <div>
                    <p class="text-xs font-medium text-gray-500 uppercase px-3 mb-2">Investments</p>
                    <nav class="space-y-1">
                        <a href="buy-plan.html" class="flex items-center gap-3 rounded-lg dark:text-gray-300 text-gray-700 hover:bg-dark-100/60 dark:hover:bg-dark-100/60 hover:bg-light-200/60 px-3 py-2 transition-colors">
                            <i data-lucide="briefcase" class="h-5 w-5"></i>
                            <span>Trading Plans</span>
                        </a>

                        <a href="myplans/All.html" class="flex items-center gap-3 rounded-lg dark:text-gray-300 text-gray-700 hover:bg-dark-100/60 dark:hover:bg-dark-100/60 hover:bg-light-200/60 px-3 py-2 transition-colors">
                            <i data-lucide="folder" class="h-5 w-5"></i>
                            <span>My Plans</span>
                        </a>

                        <a href="tradinghistory.html" class="flex items-center gap-3 rounded-lg dark:text-gray-300 text-gray-700 hover:bg-dark-100/60 dark:hover:bg-dark-100/60 hover:bg-light-200/60 px-3 py-2 transition-colors">
                            <i data-lucide="trending-up" class="h-5 w-5"></i>
                            <span>Profit History</span>
                        </a>
                    </nav>
                </div>
                
                <!-- Additional Services Section -->
                <div>
                    <p class="text-xs font-medium text-gray-500 uppercase px-3 mb-2">Services</p>
                    <nav class="space-y-1">
                        

                                                <a href="asset-balance.html" class="flex items-center gap-3 rounded-lg bg-primary/10 text-primary px-3 py-2 transition-colors">
                            <i data-lucide="shuffle" class="h-5 w-5"></i>
                            <span>Swap Crypto</span>
                        </a>
                        
                        
                        
                        <a href="referuser.html" class="flex items-center gap-3 rounded-lg dark:text-gray-300 text-gray-700 hover:bg-dark-100/60 dark:hover:bg-dark-100/60 hover:bg-light-200/60 px-3 py-2 transition-colors">
                            <i data-lucide="users" class="h-5 w-5"></i>
                            <span>Referrals</span>
                        </a>
                    </nav>
                </div>
            </div>
        </div>

        <!-- Help Section with Enhanced Design -->
        <div class="mt-auto px-4 pb-6">
            <div class="rounded-xl overflow-hidden bg-gradient-to-r from-primary/80 to-secondary/80 p-0.5">
                <div class="dark:bg-dark-50 bg-light-100 rounded-lg p-4">
                    <div class="flex items-start gap-3">
                        <div class="bg-primary/20 rounded-full p-2">
                            <i data-lucide="life-buoy" class="h-5 w-5 text-primary"></i>
                        </div>
                        <div>
                            <h5 class="font-medium dark:text-white text-dark text-sm mb-1">Need Help?</h5>
                            <p class="text-xs dark:text-gray-300 text-gray-700 mb-3">
                                Our support team is available 24/7
                            </p>
                            <a href="support.html" class="flex items-center justify-center gap-2 dark:bg-dark-100 bg-light-200 hover:bg-light-200/80 dark:hover:bg-dark-100/80 dark:text-white text-dark rounded-lg py-2 text-xs font-medium transition-colors">
                                <i data-lucide="message-circle" class="h-3.5 w-3.5"></i>
                                <span>Contact Support</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize Lucide icons
        lucide.createIcons();

        // Get elements
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');
        const sidebar = document.getElementById('sidenav-main');
        const closeBtn = document.getElementById('closeSideNav');
        const overlay = document.getElementById('sidebar-overlay');

        // Helper function to open sidebar
        function openSidebar() {
            sidebar.classList.remove('-translate-x-full');
            overlay.classList.remove('hidden');
            document.body.classList.add('overflow-hidden');
            setTimeout(() => {
                overlay.classList.add('opacity-100');
            }, 50);
        }

        // Helper function to close sidebar
        function closeSidebar() {
            sidebar.classList.add('-translate-x-full');
            overlay.classList.add('hidden');
            overlay.classList.remove('opacity-100');
            document.body.classList.remove('overflow-hidden');
        }

        // Toggle sidebar on mobile menu button click
        if (mobileMenuToggle && sidebar) {
            mobileMenuToggle.addEventListener('click', function(e) {
                e.stopPropagation();
                if (sidebar.classList.contains('-translate-x-full')) {
                    openSidebar();
                } else {
                    closeSidebar();
                }
            });
        }

        // Close sidebar on close button click
        if (closeBtn && sidebar) {
            closeBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                closeSidebar();
            });
        }

        // Close sidebar when clicking on overlay
        if (overlay) {
            overlay.addEventListener('click', function() {
                closeSidebar();
            });
        }

        // Close sidebar when clicking outside
        document.addEventListener('click', function(event) {
            const isClickInsideSidebar = sidebar.contains(event.target);
            const isClickOnToggle = mobileMenuToggle && (event.target === mobileMenuToggle || mobileMenuToggle.contains(event.target));

            if (!isClickInsideSidebar && !isClickOnToggle && !sidebar.classList.contains('-translate-x-full')) {
                closeSidebar();
            }
        });

        // Close sidebar when pressing Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeSidebar();
            }
        });
    });
</script>

        <!-- Main Content -->
    <div class="w-full flex flex-col">
    <!-- Top Menu -->
    <!-- Enhanced Top Navigation Bar -->
<header class="flex h-16 items-center justify-between dark:border-dark-100 border-light-200 border-b px-4 sm:px-6 sticky top-0 z-[9999] bg-gradient-to-r dark:from-dark dark:to-dark-50 from-light to-light-100 backdrop-blur-sm shadow-md">
    <div class="flex items-center gap-4">
        <!-- Mobile Menu Toggle with Improved Design -->
        <button class="md:hidden dark:text-white text-dark p-1.5 rounded-lg dark:hover:bg-dark-100/60 hover:bg-light-200/60 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/50" id="mobileMenuToggle">
            <i class="fas fa-bars h-5 w-5"></i>
        </button>
        
        <!-- Mobile Logo with Enhanced Appearance -->
        <div class="flex items-center gap-3 md:hidden">
            <div class="flex items-center gap-2 font-bold text-xl md:hidden">
            <img src="../storage/app/public/photos/erS41GrjdsLGXfFderVWcZmCASGd6Rt2nIMEqnsg.png" alt="logo" class="h-8">
        </div>
        </div>
    </div>
    
    <!-- Right-side items with Better Layout -->
    <div class="flex items-center gap-1.5 sm:gap-3">
        <!-- Theme Toggle Button -->
       <button id="themeToggle" onclick="toggleTheme()" class="p-1.5 dark:text-gray-300 text-gray-700 hover:text-dark dark:hover:text-white dark:bg-dark-100/40 bg-light-200/40 hover:bg-light-200/80 dark:hover:bg-dark-100/80 rounded-lg transition-colors" title="Toggle Theme">
            <!-- Sun icon for light theme (shown in dark mode) -->
            <i data-lucide="sun" class="h-4 w-4"></i>
            <!-- Moon icon for dark theme (shown in light mode) -->
            <i data-lucide="moon" class="h-4 w-4"></i>
        </button>
        
        <!-- KYC Verification with Improved Design -->
                
        <!-- Notifications with Enhanced Design -->
        <div class="relative" x-data="{ 
                open: false, 
                notifications: [], 
                unreadCount: 0, 
                loading: true, 
                init() { 
                    this.fetchNotifications(); 
                    this.setupPolling(); 
                }, 
                fetchNotifications() { 
                    this.loading = true; 
                    fetch('https://meritzinvestment.co.uk/dashboard/api/notifications/latest') 
                        .then(response => response.json()) 
                        .then(data => { 
                            this.notifications = data.notifications; 
                            this.unreadCount = data.unread_count; 
                            this.loading = false; 
                        }) 
                        .catch(error => { 
                            console.error('Error fetching notifications:', error); 
                            this.loading = false; 
                        }); 
                }, 
                setupPolling() { 
                    setInterval(() => { 
                        this.fetchNotifications(); 
                    }, 30000); 
                } 
            }" x-init="init()">
            <button @click="open = !open; if(open) fetchNotifications();" class="p-1.5 dark:text-gray-300 text-gray-700 hover:text-dark dark:hover:text-white dark:bg-dark-100/40 bg-light-200/40 hover:bg-light-200/80 dark:hover:bg-dark-100/80 rounded-lg transition-colors relative" title="Notifications">
                <i class="fas fa-bell h-4 w-4"></i>
                <span x-show="unreadCount > 0" x-text="unreadCount > 9 ? '9+' : unreadCount" class="absolute -right-1 -top-1 h-4 w-4 flex items-center justify-center bg-primary text-[10px] text-white rounded-full dark:border-dark border-light-100 border"></span>
            </button>
            
            <div x-show="open" @click.away="open = false" class="absolute right-0 mt-2 w-72 dark:bg-dark-50 bg-light-100 dark:border-dark-100 border-light-200 border rounded-lg shadow-lg overflow-hidden z-[10000]">
                <div class="bg-gradient-to-r dark:from-dark-100 dark:to-dark-100/30 from-light-200 to-light-200/30 px-4 py-3 flex items-center justify-between dark:border-dark-100 border-light-200 border-b">
                    <h6 class="text-sm font-medium dark:text-white text-dark">Notifications</h6>
                    <span x-show="unreadCount > 0" x-text="unreadCount" class="text-xs bg-primary text-white px-1.5 py-0.5 rounded-full"></span>
                </div>
                
                <div class="max-h-[280px] overflow-y-auto">
                    <!-- Loading State -->
                    <template x-if="loading">
                        <div class="p-4 text-center">
                            <div class="inline-block h-6 w-6 animate-spin rounded-full border-2 border-solid border-primary border-r-transparent motion-reduce:animate-[spin_1.5s_linear_infinite]" role="status">
                                <span class="!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]">Loading...</span>
                            </div>
                        </div>
                    </template>
                    
                    <!-- Empty State -->
                    <template x-if="!loading && notifications.length === 0">
                        <div class="p-4 text-center">
                            <div class="h-12 w-12 rounded-full bg-light-200/60 dark:bg-dark-100/60 flex items-center justify-center mx-auto mb-2">
                                <i class="fas fa-bell-slash h-6 w-6 dark:text-gray-400 text-gray-600"></i>
                            </div>
                            <p class="text-xs dark:text-gray-400 text-gray-600">No notifications yet</p>
                        </div>
                    </template>
                    
                    <!-- Notifications List -->
                    <template x-if="!loading && notifications.length > 0">
                        <div>
                            <template x-for="notification in notifications" :key="notification.id">
                                <a :href="'https://meritzinvestment.co.uk/dashboard/notifications/mark-as-read/' + notification.id" class="block p-3 dark:border-dark-100/60 border-light-200/60 border-b hover:bg-dark-100/30 dark:hover:bg-dark-100/30 hover:bg-light-200/30 transition-colors" :class="{ 'dark:bg-dark-100/50 bg-light-200/50': !notification.is_read }">
                                    <div class="flex gap-3">
                                        <div :class="notification.icon_bg_color || 'bg-primary/10'" class="h-8 w-8 rounded-full flex items-center justify-center flex-shrink-0">
                                            <i :class="'fas ' + (notification.icon || 'fa-bell')" class="h-4 w-4 text-primary"></i>
                                        </div>
                                        <div>
                                            <p class="text-xs dark:text-white text-dark font-medium" x-text="notification.title || 'Notification'"></p>
                                            <p class="text-xs dark:text-gray-400 text-gray-600 mt-0.5" x-text="notification.message"></p>
                                            <p class="text-xs dark:text-gray-500 text-gray-500 mt-1" x-text="new Date(notification.created_at).toLocaleString()"></p>
                                        </div>
                                    </div>
                                </a>
                            </template>
                        </div>
                    </template>
                </div>
                
                <div class="p-2 dark:border-dark-100 border-light-200 border-t flex justify-between">
                    <a x-show="unreadCount > 0" href="support.html" class="block text-xs text-primary hover:text-primary/80 py-1 px-2">
                        Mark all as read
                    </a>
                    <a href="notifications.html" class="block text-xs text-primary hover:text-primary/80 py-1 px-2 ml-auto">
                        View all
                    </a>
                </div>
            </div>
        </div>
        
        <!-- User Profile Dropdown with Enhanced Design -->
        <div class="relative" x-data="{ open: false }">
            <button @click="open = !open" class="flex items-center gap-2 p-1 rounded-lg hover:bg-dark-100/40 dark:hover:bg-dark-100/40 hover:bg-light-200/40 transition-colors">
                <div class="relative">
                    <div class="absolute inset-0 bg-gradient-to-r from-primary to-secondary rounded-full opacity-80"></div>
                    <div class="relative h-7 w-7 sm:h-8 sm:w-8 bg-primary rounded-full flex items-center justify-center text-sm font-medium dark:border-dark-50 border-light-300 border-2">
                        ab
                    </div>
                </div>
                <span class="hidden md:block text-sm font-medium dark:text-white text-dark">abc</span>
                <i class="fas fa-chevron-down h-4 w-4 dark:text-gray-400 text-gray-600 hidden md:block"></i>
            </button>
            
            <div x-show="open" @click.away="open = false" class="absolute right-0 mt-2 w-56 dark:bg-dark-50 bg-light-100 dark:border-dark-100 border-light-200 border rounded-lg shadow-lg overflow-hidden z-[10000]">
                <div class="bg-gradient-to-r dark:from-dark-100 dark:to-dark-100/30 from-light-200 to-light-200/30 px-4 py-3 dark:border-dark-100 border-light-200 border-b">
                    <h6 class="text-sm font-medium dark:text-white text-dark">abc</h6>
                    <p class="text-xs dark:text-gray-400 text-gray-600 mt-0.5">abc@abc.com</p>
                </div>
                
                <div class="py-2">
                    <a href="account-settings.html" class="flex items-center gap-2 px-4 py-2 text-sm dark:text-gray-300 text-gray-700 dark:hover:bg-dark-100/60 hover:bg-light-200/60 transition-colors">
                        <i class="fas fa-user h-4 w-4 dark:text-gray-400 text-gray-600"></i>
                        <span>My Profile</span>
                    </a>
                    <a href="accounthistory.html" class="flex items-center gap-2 px-4 py-2 text-sm dark:text-gray-300 text-gray-700 dark:hover:bg-dark-100/60 hover:bg-light-200/60 transition-colors">
                        <i class="fas fa-history h-4 w-4 dark:text-gray-400 text-gray-600"></i>
                        <span>Transaction History</span>
                    </a>
                    <a href="support.html" class="flex items-center gap-2 px-4 py-2 text-sm dark:text-gray-300 text-gray-700 dark:hover:bg-dark-100/60 hover:bg-light-200/60 transition-colors">
                        <i class="fas fa-life-ring h-4 w-4 dark:text-gray-400 text-gray-600"></i>
                        <span>Support</span>
                    </a>
                </div>
                
                <div class="py-2 dark:border-dark-100 border-light-200 border-t">
                    <a href="https://meritzinvestment.co.uk/logout" onclick="event.preventDefault(); document.getElementById('logout-form').submit();" class="flex items-center gap-2 px-4 py-2 text-sm text-danger dark:hover:bg-dark-100/60 hover:bg-light-200/60 transition-colors">
                        <i class="fas fa-sign-out-alt h-4 w-4"></i>
                        <span>Logout</span>
                    </a>
                    
                    <form id="logout-form" action="https://meritzinvestment.co.uk/logout" method="POST" class="hidden">
                        <input type="hidden" name="_token" value="9AUencLeaPkQhuF6eaDjc5RaG1AcsUUE0ur7vKWI">                    </form>
                </div>
            </div>
        </div>
    </div>
</header>
    <!-- Page content -->
    <div class="p-4 md:p-6 pb-20 md:pb-8 overflow-x-hidden flex-grow">
        
<!-- Make sure jQuery is loaded -->
<script src="../jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

<!-- CSRF Token for AJAX Requests -->
<meta name="csrf-token" content="9AUencLeaPkQhuF6eaDjc5RaG1AcsUUE0ur7vKWI">

<!-- Toast Notifications Container -->
<div id="toast-container" class="fixed top-4 right-4 z-[9999] flex flex-col gap-3"></div>

<!-- Exchange Header with Gradient -->
<div class="relative bg-gradient-to-r from-primary/5 to-primary/20 dark:from-primary/10 dark:to-primary/30 rounded-xl p-6 mb-6 overflow-hidden">
    <div class="absolute top-0 right-0 w-64 h-64 bg-primary/10 rounded-full filter blur-3xl -mr-32 -mt-32"></div>
    <div class="absolute bottom-0 left-0 w-64 h-64 bg-primary/10 rounded-full filter blur-3xl -ml-32 -mb-32"></div>
    
    <div class="relative flex flex-col md:flex-row md:items-center md:justify-between gap-4">
        <div class="flex items-center">
            <div class="w-12 h-12 rounded-xl bg-primary/20 dark:bg-primary/30 backdrop-blur-sm flex items-center justify-center mr-4 shadow-lg">
                <svg class="w-6 h-6 text-primary" viewbox="0 0 24 24" fill="none">
                    <path d="M17.7513 7.04996C18.9963 8.29496 19.7613 10.025 19.7613 12C19.7613 16.42 16.1813 20 11.7613 20C7.34125 20 3.76125 16.42 3.76125 12C3.76125 7.58 7.34125 4 11.7613 4C13.7363 4 15.5013 4.75 16.7413 6.00" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                    <path d="M20.24 2.48001L19.76 6.23001L16.01 5.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                    <path d="M9.25 11.5L10.75 13L14.25 9.5" fill="currentColor" fill-opacity="0.2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
            </div>
            <div>
                <h1 class="text-2xl font-bold text-dark dark:text-white">Swap Crypto</h1>
                <p class="text-dark-500 dark:text-light-300 text-sm">Exchange your assets instantly at competitive rates</p>
            </div>
        </div>
        
        <div class="flex items-center space-x-3">
            <a href="swap-history.html" class="px-4 py-2.5 text-sm font-medium rounded-lg bg-white dark:bg-dark-100 text-primary border border-light-200 dark:border-dark-200/50 hover:bg-light-100 dark:hover:bg-dark-200 transition-colors flex items-center">
                <svg class="w-4 h-4 mr-2" viewbox="0 0 24 24" fill="none">
                    <path d="M22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2C17.52 2 22 6.48 22 12Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                    <path d="M15.71 15.18L12.61 13.33C12.07 13.01 11.63 12.24 11.63 11.61V7.51001" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
                History
            </a>
        </div>
    </div>
</div>

<!-- Alert Messages -->
<div>
    </div><div>
    </div>
<!-- Exchange Info Card -->
<div class="bg-white dark:bg-dark-50 rounded-xl shadow-sm border border-light-200 dark:border-dark-200/50 p-4 mb-6">
    <div class="flex items-center mb-2">
        <div class="w-10 h-10 rounded-full bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center mr-3">
            <svg class="w-5 h-5 text-blue-500" viewbox="0 0 24 24" fill="none">
                <path d="M12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22Z" fill="currentColor" fill-opacity="0.2"></path>
                <path d="M12 16V12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 8H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </div>
        <div>
            <h3 class="text-sm font-medium text-dark dark:text-white">Important Information</h3>
            <p class="text-dark-500 dark:text-light-400 text-xs">Earn even more when you swap your Account balance to and from crypto.</p>
        </div>
    </div>
</div>

<!-- Crypto Balances Grid -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
    <!-- Account Balance - Highlighted Card -->
    <div class="bg-gradient-to-br from-primary/5 to-primary/20 dark:from-primary/10 dark:to-primary/30 rounded-xl shadow-sm border border-light-200 dark:border-dark-200/50 p-5 relative overflow-hidden">
        <div class="absolute top-0 right-0 w-20 h-20 bg-primary/10 rounded-full filter blur-xl -mr-10 -mt-10"></div>
        <div class="flex items-center justify-between relative">
            <div>
                <p class="text-xs uppercase font-medium text-dark-500 dark:text-light-300">Account Balance</p>
                <p class="text-xl font-bold text-dark dark:text-white mt-1">$0.00</p>
            </div>
            <div class="w-12 h-12 rounded-xl bg-white dark:bg-dark-100 shadow-md flex items-center justify-center">
                <svg class="w-6 h-6 text-primary" viewbox="0 0 24 24" fill="none">
                    <path d="M18.04 13.55C17.62 13.96 17.38 14.55 17.44 15.18C17.53 16.26 18.52 17.05 19.6 17.05H21.5V18.24C21.5 20.31 19.81 22 17.74 22H6.26C4.19 22 2.5 20.31 2.5 18.24V11.51C2.5 9.44 4.19 7.75 6.26 7.75H17.74C19.81 7.75 21.5 9.44 21.5 11.51V12.95H19.48C18.92 12.95 18.41 13.17 18.04 13.55Z" fill="currentColor" fill-opacity="0.2"></path>
                    <path d="M7 12H14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
            </div>
        </div>
    </div>
    
    <!-- Cryptocurrency Cards -->
        <div class="bg-white dark:bg-dark-50 rounded-xl shadow-sm border border-light-200 dark:border-dark-200/50 p-5 transition-transform hover:translate-y-[-3px]">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-xs uppercase font-medium text-dark-500 dark:text-light-300">Bitcoin</p>
                <p class="text-xl font-bold text-dark dark:text-white mt-1">0 BTC</p>
                <p class="text-xs text-dark-300 dark:text-light-300 mt-1 usdelement" id="btc"></p>
            </div>
            <div class="w-12 h-12 rounded-xl bg-amber-50 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-700/30 flex items-center justify-center">
                <img class="w-7 h-7" src="../static/img/coins/64x64/1.png" alt="BTC">
            </div>
        </div>
    </div>
        
        <div class="bg-white dark:bg-dark-50 rounded-xl shadow-sm border border-light-200 dark:border-dark-200/50 p-5 transition-transform hover:translate-y-[-3px]">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-xs uppercase font-medium text-dark-500 dark:text-light-300">Ethereum</p>
                <p class="text-xl font-bold text-dark dark:text-white mt-1">0 ETH</p>
                <p class="text-xs text-dark-300 dark:text-light-300 mt-1 usdelement" id="eth"></p>
            </div>
            <div class="w-12 h-12 rounded-xl bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-700/30 flex items-center justify-center">
                <img class="w-7 h-7" src="../fluency/48/000000/ethereum.png" alt="ETH">
            </div>
        </div>
    </div>
        
        <div class="bg-white dark:bg-dark-50 rounded-xl shadow-sm border border-light-200 dark:border-dark-200/50 p-5 transition-transform hover:translate-y-[-3px]">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-xs uppercase font-medium text-dark-500 dark:text-light-300">Litecoin</p>
                <p class="text-xl font-bold text-dark dark:text-white mt-1">0 LTC</p>
                <p class="text-xs text-dark-300 dark:text-light-300 mt-1 usdelement" id="ltc"></p>
            </div>
            <div class="w-12 h-12 rounded-xl bg-gray-50 dark:bg-gray-900/30 border border-gray-200 dark:border-gray-700/30 flex items-center justify-center">
                <img class="w-7 h-7" src="../static/img/coins/64x64/2.png" alt="LTC">
            </div>
        </div>
    </div>
        
        <div class="bg-white dark:bg-dark-50 rounded-xl shadow-sm border border-light-200 dark:border-dark-200/50 p-5 transition-transform hover:translate-y-[-3px]">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-xs uppercase font-medium text-dark-500 dark:text-light-300">Chainlink</p>
                <p class="text-xl font-bold text-dark dark:text-white mt-1">0 LINK</p>
                <p class="text-xs text-dark-300 dark:text-light-300 mt-1 usdelement" id="link"></p>
            </div>
            <div class="w-12 h-12 rounded-xl bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700/30 flex items-center justify-center">
                <img class="w-7 h-7" src="../cotton/64/000000/chainlink.png" alt="LINK">
            </div>
        </div>
    </div>
        
        <div class="bg-white dark:bg-dark-50 rounded-xl shadow-sm border border-light-200 dark:border-dark-200/50 p-5 transition-transform hover:translate-y-[-3px]">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-xs uppercase font-medium text-dark-500 dark:text-light-300">Binance Coin</p>
                <p class="text-xl font-bold text-dark dark:text-white mt-1">0 BNB</p>
                <p class="text-xs text-dark-300 dark:text-light-300 mt-1 usdelement" id="bnb"></p>
            </div>
            <div class="w-12 h-12 rounded-xl bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700/30 flex items-center justify-center">
                <img class="w-7 h-7" src="../static/img/coins/64x64/1839.png" alt="BNB">
            </div>
        </div>
    </div>
    
        <div class="bg-white dark:bg-dark-50 rounded-xl shadow-sm border border-light-200 dark:border-dark-200/50 p-5 transition-transform hover:translate-y-[-3px]">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-xs uppercase font-medium text-dark-500 dark:text-light-300">Cardano</p>
                <p class="text-xl font-bold text-dark dark:text-white mt-1">0 ADA</p>
                <p class="text-xs text-dark-300 dark:text-light-300 mt-1 usdelement" id="ada"></p>
            </div>
            <div class="w-12 h-12 rounded-xl bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700/30 flex items-center justify-center">
                <img class="w-7 h-7" src="../static/img/coins/64x64/2010.png" alt="ADA">
            </div>
        </div>
    </div>
    
        <div class="bg-white dark:bg-dark-50 rounded-xl shadow-sm border border-light-200 dark:border-dark-200/50 p-5 transition-transform hover:translate-y-[-3px]">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-xs uppercase font-medium text-dark-500 dark:text-light-300">Aave</p>
                <p class="text-xl font-bold text-dark dark:text-white mt-1">0 AAVE</p>
                <p class="text-xs text-dark-300 dark:text-light-300 mt-1 usdelement" id="aave"></p>
            </div>
            <div class="w-12 h-12 rounded-xl bg-purple-50 dark:bg-purple-900/30 border border-purple-200 dark:border-purple-700/30 flex items-center justify-center">
                <img class="w-7 h-7" src="../static/img/coins/64x64/7278.png" alt="AAVE">
            </div>
        </div>
    </div>
    
        <div class="bg-white dark:bg-dark-50 rounded-xl shadow-sm border border-light-200 dark:border-dark-200/50 p-5 transition-transform hover:translate-y-[-3px]">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-xs uppercase font-medium text-dark-500 dark:text-light-300">Tether</p>
                <p class="text-xl font-bold text-dark dark:text-white mt-1">0 USDT</p>
                <p class="text-xs text-dark-300 dark:text-light-300 mt-1">$0</p>
            </div>
            <div class="w-12 h-12 rounded-xl bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-700/30 flex items-center justify-center">
                <img class="w-7 h-7" src="../color/48/000000/tether--v2.png" alt="USDT">
            </div>
        </div>
    </div>
    
        <div class="bg-white dark:bg-dark-50 rounded-xl shadow-sm border border-light-200 dark:border-dark-200/50 p-5 transition-transform hover:translate-y-[-3px]">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-xs uppercase font-medium text-dark-500 dark:text-light-300">Bitcoin Cash</p>
                <p class="text-xl font-bold text-dark dark:text-white mt-1">0 BCH</p>
                <p class="text-xs text-dark-300 dark:text-light-300 mt-1 usdelement" id="bch"></p>
            </div>
            <div class="w-12 h-12 rounded-xl bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-700/30 flex items-center justify-center">
                <img class="w-7 h-7" src="../static/img/coins/64x64/1831.png" alt="BCH">
            </div>
        </div>
    </div>
    
        <div class="bg-white dark:bg-dark-50 rounded-xl shadow-sm border border-light-200 dark:border-dark-200/50 p-5 transition-transform hover:translate-y-[-3px]">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-xs uppercase font-medium text-dark-500 dark:text-light-300">Ripple</p>
                <p class="text-xl font-bold text-dark dark:text-white mt-1">0 XRP</p>
                <p class="text-xs text-dark-300 dark:text-light-300 mt-1 usdelement" id="xrp"></p>
            </div>
            <div class="w-12 h-12 rounded-xl bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700/30 flex items-center justify-center">
                <img class="w-7 h-7" src="../fluency/48/000000/ripple.png" alt="XRP">
            </div>
        </div>
    </div>
    
        <div class="bg-white dark:bg-dark-50 rounded-xl shadow-sm border border-light-200 dark:border-dark-200/50 p-5 transition-transform hover:translate-y-[-3px]">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-xs uppercase font-medium text-dark-500 dark:text-light-300">Stellar</p>
                <p class="text-xl font-bold text-dark dark:text-white mt-1">0 XLM</p>
                <p class="text-xs text-dark-300 dark:text-light-300 mt-1 usdelement" id="xlm"></p>
            </div>
            <div class="w-12 h-12 rounded-xl bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700/30 flex items-center justify-center">
                <img class="w-7 h-7" src="../ios/50/000000/stellar.png" alt="XLM">
            </div>
        </div>
    </div>
    </div>

<!-- TradingView and Swap Form -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    <!-- Modern Market Chart Container -->
    <div class="md:col-span-2">
        <div class="bg-white dark:bg-dark-50 rounded-xl shadow-sm border border-light-200 dark:border-dark-200/50 overflow-hidden">
            <div class="p-4 border-b border-light-200 dark:border-dark-200/50 flex justify-between items-center">
                <h2 class="text-base font-bold text-dark dark:text-white flex items-center">
                    <div class="w-8 h-8 rounded-lg bg-primary-50 dark:bg-primary-900/30 flex items-center justify-center mr-2">
                        <svg class="w-4 h-4 text-primary" viewbox="0 0 24 24" fill="none">
                            <path d="M22 8.27V4.23C22 2.64 21.36 2 19.77 2H15.73C14.14 2 13.5 2.64 13.5 4.23V8.27C13.5 9.86 14.14 10.5 15.73 10.5H19.77C21.36 10.5 22 9.86 22 8.27Z" fill="currentColor" fill-opacity="0.2"></path>
                            <path d="M10.5 8.52V3.98C10.5 2.57 9.86 2 8.27 2H4.23C2.64 2 2 2.57 2 3.98V8.51C2 9.93 2.64 10.49 4.23 10.49H8.27C9.86 10.5 10.5 9.93 10.5 8.52Z" fill="currentColor" fill-opacity="0.2"></path>
                            <path d="M10.5 19.77V15.73C10.5 14.14 9.86 13.5 8.27 13.5H4.23C2.64 13.5 2 14.14 2 15.73V19.77C2 21.36 2.64 22 4.23 22H8.27C9.86 22 10.5 21.36 10.5 19.77Z" fill="currentColor" fill-opacity="0.2"></path>
                            <path d="M22 19.77V15.73C22 14.14 21.36 13.5 19.77 13.5H15.73C14.14 13.5 13.5 14.14 13.5 15.73V19.77C13.5 21.36 14.14 22 15.73 22H19.77C21.36 22 22 21.36 22 19.77Z" fill="currentColor" fill-opacity="0.2"></path>
                        </svg>
                    </div>
                    <span>Crypto Market</span>
                </h2>
                
                <!-- Timeframe Switcher -->
                <div class="flex space-x-1 text-xs">
                    <button class="px-3 py-1.5 rounded-lg bg-primary text-white" id="time-1h">1H</button>
                    <button class="px-3 py-1.5 rounded-lg bg-light-100 dark:bg-dark-200 text-dark-300 dark:text-light-300 hover:bg-light-200 dark:hover:bg-dark-300 transition-colors" id="time-1d">1D</button>
                    <button class="px-3 py-1.5 rounded-lg bg-light-100 dark:bg-dark-200 text-dark-300 dark:text-light-300 hover:bg-light-200 dark:hover:bg-dark-300 transition-colors" id="time-1w">1W</button>
                    <button class="px-3 py-1.5 rounded-lg bg-light-100 dark:bg-dark-200 text-dark-300 dark:text-light-300 hover:bg-light-200 dark:hover:bg-dark-300 transition-colors" id="time-1m">1M</button>
                </div>
            </div>
            
            <div class="p-4">
                <!-- Market Overview -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <div class="p-3 bg-light-50 dark:bg-dark-200/50 rounded-lg border border-light-200 dark:border-dark-300/30 flex items-center">
                        <div class="w-8 h-8 rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center mr-3">
                            <svg class="w-4 h-4 text-amber-600 dark:text-amber-400" fill="none" viewbox="0 0 24 24">
                                <path d="M9 12H15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M12 9L12 15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                            </svg>
                        </div>
                        <div>
                            <p class="text-xs text-dark-300 dark:text-light-300">BTC Dominance</p>
                            <p class="text-sm font-bold text-dark dark:text-white">~42.3%</p>
                        </div>
                    </div>
                    <div class="p-3 bg-light-50 dark:bg-dark-200/50 rounded-lg border border-light-200 dark:border-dark-300/30 flex items-center">
                        <div class="w-8 h-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center mr-3">
                            <svg class="w-4 h-4 text-green-600 dark:text-green-400" fill="none" viewbox="0 0 24 24">
                                <path d="M12 18V6M12 6L7 11M12 6L17 11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                            </svg>
                        </div>
                        <div>
                            <p class="text-xs text-dark-300 dark:text-light-300">Global Market Cap</p>
                            <p class="text-sm font-bold text-dark dark:text-white">$2.58T</p>
                        </div>
                    </div>
                    <div class="p-3 bg-light-50 dark:bg-dark-200/50 rounded-lg border border-light-200 dark:border-dark-300/30 flex items-center">
                        <div class="w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mr-3">
                            <svg class="w-4 h-4 text-blue-600 dark:text-blue-400" fill="none" viewbox="0 0 24 24">
                                <path d="M7.37145 10.2017V17.0618" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M12.0382 6.91919V17.0619" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M16.6285 13.8269V17.0619" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                            </svg>
                        </div>
                        <div>
                            <p class="text-xs text-dark-300 dark:text-light-300">24h Volume</p>
                            <p class="text-sm font-bold text-dark dark:text-white">$102.7B</p>
                        </div>
                    </div>
                </div>
                
                <!-- Interactive Chart -->
                <div class="relative h-[350px] mb-4 market-chart bg-light-50 dark:bg-dark-200/30 rounded-lg overflow-hidden">
                    <!-- Chart Overlay Elements -->
                    <div class="absolute left-0 top-0 p-3 z-10 bg-white/80 dark:bg-dark-800/80 backdrop-blur-sm rounded-br-lg">
                        <div>
                            <span class="text-xs text-dark-300 dark:text-light-300">BTC/USD</span>
                            <h3 class="text-lg font-bold text-dark dark:text-white flex items-center gap-2">
                                $63,482.12
                                <span class="text-xs text-green-500 font-medium flex items-center bg-green-50 dark:bg-green-900/30 px-2 py-0.5 rounded-full">
                                    <svg class="w-3 h-3 mr-0.5" viewbox="0 0 24 24" fill="none">
                                        <path d="M12 18V6M12 6L7 11M12 6L17 11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                    </svg>
                                    +1.24%
                                </span>
                            </h3>
                        </div>
                    </div>
                    
                    <!-- Fallback for TradingView -->
                    <div id="chart-container" class="h-full w-full">
                        <div id="tradingview_f933e" class="h-full"></div>
                    </div>
                </div>
                
                <!-- Price Movement Indicators -->
                <div class="flex flex-wrap gap-2 justify-between text-xs mb-2">
                    <div class="px-3 py-1.5 rounded-full bg-light-100 dark:bg-dark-200 text-dark-500 dark:text-light-300 flex items-center">
                        <span class="w-2 h-2 bg-amber-400 rounded-full mr-1.5"></span>
                        ATH: $69,045
                    </div>
                    <div class="px-3 py-1.5 rounded-full bg-light-100 dark:bg-dark-200 text-dark-500 dark:text-light-300 flex items-center">
                        <span class="w-2 h-2 bg-green-400 rounded-full mr-1.5"></span>
                        24h High: $64,120
                    </div>
                    <div class="px-3 py-1.5 rounded-full bg-light-100 dark:bg-dark-200 text-dark-500 dark:text-light-300 flex items-center">
                        <span class="w-2 h-2 bg-red-400 rounded-full mr-1.5"></span>
                        24h Low: $62,890
                    </div>
                    <div class="px-3 py-1.5 rounded-full bg-light-100 dark:bg-dark-200 text-dark-500 dark:text-light-300 flex items-center">
                        <span class="w-2 h-2 bg-blue-400 rounded-full mr-1.5"></span>
                        Vol: $32.1B
                    </div>
                </div>
            </div>
            
            <!-- Market Info Footer -->
            <div class="bg-light-50 dark:bg-dark-200/50 p-3 border-t border-light-200 dark:border-dark-300/30 text-xs text-dark-400 dark:text-light-400 text-center flex items-center justify-center">
                <svg class="w-4 h-4 mr-1.5 text-primary" viewbox="0 0 24 24" fill="none">
                    <path d="M22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2C17.52 2 22 6.48 22 12Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                    <path d="M15.71 15.18L12.61 13.33C12.07 13.01 11.63 12.24 11.63 11.61V7.51001" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
                Data refreshes automatically every minute • Last updated: <span id="last-updated" class="font-medium">Just now</span>
            </div>
        </div>
    </div>

    <!-- Swap Form -->
    <div class="md:col-span-1">
        <div class="bg-white dark:bg-dark-50 rounded-xl shadow-sm border border-light-200 dark:border-dark-200/50 overflow-hidden">
            <div class="bg-gradient-to-r from-primary/5 to-primary/20 dark:from-primary/10 dark:to-primary/30 p-4 border-b border-light-200 dark:border-dark-200/50 flex items-center">
                <div class="w-8 h-8 rounded-lg bg-white dark:bg-dark-100 shadow-sm flex items-center justify-center mr-3">
                    <svg class="w-4 h-4 text-primary" viewbox="0 0 24 24" fill="none">
                        <path d="M19.32 10.7488L20.7066 9.36225C22.2881 7.78108 22.2881 5.21892 20.7066 3.63775C19.125 2.05592 16.5625 2.05592 14.9809 3.63775L13.5943 5.02434" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                        <path d="M4.67188 13.2488L3.28545 14.6362C1.70395 16.2174 1.70395 18.7795 3.28545 20.3607C4.86695 21.9427 7.42947 21.9427 9.01097 20.3607L10.3974 18.9741" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                        <path d="M10.5574 13.4425L13.4425 10.5574" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                        <path d="M7.40723 10.292L13.707 16.5917" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                </div>
                <h2 class="text-base font-bold text-dark dark:text-white">Swap Crypto</h2>
            </div>
            <div class="p-5">
                <form method="POST" action="javascript:void(0)" id="exchnageform" class="space-y-5">
                    <input type="hidden" name="_token" value="9AUencLeaPkQhuF6eaDjc5RaG1AcsUUE0ur7vKWI">                    <!-- Source Account -->
                    <div class="space-y-2">
                        <label for="sourceasset" class="text-sm font-medium text-dark dark:text-white flex items-center">
                            <svg class="w-4 h-4 mr-1.5 text-primary" viewbox="0 0 24 24" fill="none">
                                <path d="M9.5 13.75C9.5 14.72 10.25 15.5 11.17 15.5H13.05C13.85 15.5 14.5 14.82 14.5 13.97C14.5 13.06 14.1 12.73 13.51 12.52L10.5 11.47C9.91 11.26 9.51001 10.94 9.51001 10.02C9.51001 9.18 10.16 8.49001 10.96 8.49001H12.84C13.76 8.49001 14.51 9.27001 14.51 10.24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M12 7.5V16.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                            </svg>
                            Source Account
                        </label>
                        <div class="relative">
                            <select class="appearance-none block w-full pl-4 pr-10 py-3 text-sm rounded-lg bg-light-50 dark:bg-dark-200/80 border border-light-200 dark:border-dark-200/80 focus:ring-2 focus:ring-primary focus:border-transparent text-dark dark:text-white transition-all" name="source" id="sourceasset">
                                                                    <option value="btc">BTC</option>
                                                                                                    <option value="link">LINK</option>
                                                                                                    <option value="bnb">BNB</option>
                                                                                                    <option value="ada">ADA</option>
                                                                                                    <option value="aave">AAVE</option>
                                                                                                    <option value="xlm">XLM</option>
                                                                                                    <option value="xrp">XRP</option>
                                                                                                    <option value="ltc">LTC</option>
                                                                                                    <option value="bch">BCH</option>
                                                                                                    <option value="eth">ETH</option>
                                                                                                    <option value="usdt">USDT</option>
                                                                <option value="usd">USD</option>
                            </select>
                            <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                <svg class="w-4 h-4 text-dark-300 dark:text-light-300" viewbox="0 0 24 24" fill="none">
                                    <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                </svg>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Swap Direction Indicator -->
                    <div class="flex justify-center">
                        <div class="w-8 h-8 bg-light-100 dark:bg-dark-300 rounded-full flex items-center justify-center transform rotate-90 md:rotate-0">
                            <svg class="w-5 h-5 text-primary" viewbox="0 0 24 24" fill="none">
                                <path d="M17.28 10.45L21 6.72998L17.28 3.01001" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M3 6.72998H21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M6.72 13.55L3 17.27L6.72 20.99" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M21 17.27H3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                            </svg>
                        </div>
                    </div>

                    <!-- Destination Account -->
                    <div class="space-y-2">
                        <label for="destinationasset" class="text-sm font-medium text-dark dark:text-white flex items-center">
                            <svg class="w-4 h-4 mr-1.5 text-primary" viewbox="0 0 24 24" fill="none">
                                <path d="M9.5 13.75C9.5 14.72 10.25 15.5 11.17 15.5H13.05C13.85 15.5 14.5 14.82 14.5 13.97C14.5 13.06 14.1 12.73 13.51 12.52L10.5 11.47C9.91 11.26 9.51001 10.94 9.51001 10.02C9.51001 9.18 10.16 8.49001 10.96 8.49001H12.84C13.76 8.49001 14.51 9.27001 14.51 10.24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M12 7.5V16.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                            </svg>
                            Destination Account
                        </label>
                        <div class="relative">
                            <select class="appearance-none block w-full pl-4 pr-10 py-3 text-sm rounded-lg bg-light-50 dark:bg-dark-200/80 border border-light-200 dark:border-dark-200/80 focus:ring-2 focus:ring-primary focus:border-transparent text-dark dark:text-white transition-all" name="destination" id="destinationasset">
                                <option value="usd">USD</option>
                                                                    <option value="btc">BTC</option>
                                                                                                    <option value="link">LINK</option>
                                                                                                    <option value="bnb">BNB</option>
                                                                                                    <option value="ada">ADA</option>
                                                                                                    <option value="aave">AAVE</option>
                                                                                                    <option value="xlm">XLM</option>
                                                                                                    <option value="xrp">XRP</option>
                                                                                                    <option value="ltc">LTC</option>
                                                                                                    <option value="bch">BCH</option>
                                                                                                    <option value="eth">ETH</option>
                                                                                                    <option value="usdt">USDT</option>
                                                            </select>
                            <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                <svg class="w-4 h-4 text-dark-300 dark:text-light-300" viewbox="0 0 24 24" fill="none">
                                    <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                </svg>
                            </div>
                        </div>
                        <p class="text-xs text-dark-300 dark:text-light-300 flex items-center">
                            <svg class="w-3 h-3 mr-1" viewbox="0 0 24 24" fill="none">
                                <path d="M12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22Z" fill="currentColor" fill-opacity="0.2"></path>
                                <path d="M12 16V12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M12 8H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                            </svg>
                            NOTE: USD is your account balance.
                        </p>
                    </div>

                    <!-- Amount -->
                    <div class="space-y-2">
                        <label for="amount" class="text-sm font-medium text-dark dark:text-white flex items-center">
                            <svg class="w-4 h-4 mr-1.5 text-primary" viewbox="0 0 24 24" fill="none">
                                <path d="M22 6V8.42C22 10 21 11 19.42 11H16V4.01C16 2.9 16.91 2 18.02 2C19.11 2.01 20.11 2.45 20.83 3.17C21.55 3.9 22 4.9 22 6Z" fill="currentColor" fill-opacity="0.2"></path>
                                <path d="M2 7V21C2 21.83 2.94 22.3 3.6 21.8L5.31 20.52C5.71 20.22 6.27 20.26 6.63 20.62L8.29 22.29C8.68 22.68 9.32 22.68 9.71 22.29L11.39 20.61C11.74 20.26 12.3 20.22 12.69 20.52L14.4 21.8C15.06 22.29 16 21.82 16 21V4C16 2.9 16.9 2 18 2H7H6C3 2 2 3.79 2 6V7Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M9 13.01H12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M9 9.01001H12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M5.99561 13H6.00459" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M5.99561 9H6.00459" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                            </svg>
                            Amount
                        </label>
                        <div class="relative">
                            <input type="text" name="amount" id="amount" class="block w-full pl-4 pr-10 py-3 text-sm rounded-lg bg-light-50 dark:bg-dark-200/80 border border-light-200 dark:border-dark-200/80 focus:ring-2 focus:ring-primary focus:border-transparent text-dark dark:text-white transition-all" placeholder="Enter amount of btc">
                            <div class="absolute inset-y-0 right-0 flex items-center pr-3 text-dark-300 dark:text-light-300 text-xs pointer-events-none">
                                <span id="source-currency">BTC</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- You will get -->
                    <div class="space-y-2">
                        <label for="quantity" class="text-sm font-medium text-dark dark:text-white flex items-center">
                            <svg class="w-4 h-4 mr-1.5 text-primary" viewbox="0 0 24 24" fill="none">
                                <path d="M8 2V5" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M16 2V5" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M3.5 9.08997H20.5" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M3 13.01V8.5C3 5.5 4.5 3.5 8 3.5H16C19.5 3.5 21 5.5 21 8.5V17C21 20 19.5 22 16 22H8C4.5 22 3 20 3 17" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M11.995 13.7H12.005" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M8.294 13.7H8.304" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M8.294 16.7H8.304" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                            </svg>
                            You will get
                        </label>
                        <div class="relative">
                            <input type="text" id="quantity" readonly="" class="block w-full pl-4 pr-10 py-3 text-sm rounded-lg bg-light-50 dark:bg-dark-200/80 border border-light-200 dark:border-dark-200/80 text-dark dark:text-white cursor-not-allowed" placeholder="Quantity of usd">
                            <div class="absolute inset-y-0 right-0 flex items-center pr-3 text-dark-300 dark:text-light-300 text-xs pointer-events-none">
                                <span id="dest-currency">USD</span>
                            </div>
                            <input type="hidden" id="realquantity" name="quantity">
                        </div>
                    </div>
                    
                    <!-- Fees -->
                    <div class="flex items-center p-3 rounded-lg bg-light-50 dark:bg-dark-200/80 border border-light-200 dark:border-dark-300/50">
                        <div class="w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center mr-3">
                            <svg class="w-4 h-4 text-primary" viewbox="0 0 24 24" fill="none">
                                <path d="M12 7V13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M12 17.01L12.01 16.9989" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                            </svg>
                        </div>
                        <div>
                            <span class="text-sm text-dark dark:text-white font-medium">
                                Transaction Fee
                            </span>
                            <p class="text-xs text-dark-400 dark:text-light-400">
                                2% of transaction amount
                            </p>
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <div class="pt-2">
                        <button type="submit" class="w-full py-3.5 px-4 rounded-lg bg-gradient-to-r from-primary to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-medium flex items-center justify-center gap-2 transition-all shadow-sm">
                            <svg class="w-5 h-5" viewbox="0 0 24 24" fill="none">
                                <path d="M9.5 13.75C9.5 14.72 10.25 15.5 11.17 15.5H13.05C13.85 15.5 14.5 14.82 14.5 13.97C14.5 13.06 14.1 12.73 13.51 12.52L10.5 11.47C9.91 11.26 9.51001 10.94 9.51001 10.02C9.51001 9.18 10.16 8.49001 10.96 8.49001H12.84C13.76 8.49001 14.51 9.27001 14.51 10.24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M12 7.5V16.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                <path d="M22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2C17.52 2 22 6.48 22 12Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                            </svg>
                            Swap Now
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


<!-- Modern styles with animations -->
<style>
    /* Card hover effects */
    .crypto-card {
        transition: all 0.3s ease;
    }
    .crypto-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
    
    /* Select styles */
    select.appearance-none {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236B7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
        background-position: right 0.5rem center;
        background-repeat: no-repeat;
        background-size: 1.5em 1.5em;
    }
    
    /* Modern Toast Notifications */
    .toast {
        min-width: 300px;
        max-width: 400px;
        border-radius: 10px;
        margin-bottom: 1rem;
        padding: 1rem;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        transform: translateX(100%);
        animation: slideIn 0.3s forwards, fadeOut 0.5s 4.5s forwards;
        display: flex;
        align-items: center;
        position: relative;
        overflow: hidden;
        z-index: 10000;
    }
    
    .toast.success {
        background-color: #10b981;
        color: white;
    }
    
    .toast.danger {
        background-color: #ef4444;
        color: white;
    }
    
    .toast.dark-success {
        background-color: #065f46;
        color: white;
    }
    
    .toast.dark-danger {
        background-color: #b91c1c;
        color: white;
    }
    
    .toast .icon {
        margin-right: 12px;
        font-size: 1.5rem;
    }
    
    .toast .content {
        flex: 1;
    }
    
    .toast .title {
        font-weight: 600;
        font-size: 0.875rem;
    }
    
    .toast .message {
        font-size: 0.75rem;
        opacity: 0.9;
    }
    
    .toast .close {
        cursor: pointer;
        font-size: 0.75rem;
        padding: 4px;
    }
    
    .toast .progress {
        position: absolute;
        bottom: 0;
        left: 0;
        height: 3px;
        width: 100%;
    }
    
    .toast .progress-bar {
        height: 100%;
        background-color: rgba(255, 255, 255, 0.3);
        width: 100%;
        animation: progress 5s linear forwards;
    }
    
    @keyframes  slideIn {
        from { transform: translateX(100%); }
        to { transform: translateX(0); }
    }
    
    @keyframes  fadeOut {
        from { opacity: 1; transform: translateX(0); }
        to { opacity: 0; transform: translateX(100%); }
    }
    
    @keyframes  progress {
        from { width: 100%; }
        to { width: 0%; }
    }
    
    /* Shimmer animation for loading states */
    .shimmer {
        background: linear-gradient(90deg, 
            rgba(255, 255, 255, 0) 0%, 
            rgba(255, 255, 255, 0.2) 50%, 
            rgba(255, 255, 255, 0) 100%);
        background-size: 200% 100%;
        animation: shimmerEffect 1.5s infinite;
    }
    
    @keyframes  shimmerEffect {
        0% { background-position: -200% 0; }
        100% { background-position: 200% 0; }
    }
    
    /* Pulse animation for price changes */
    .pulse-green {
        animation: pulseGreen 2s ease-in-out 1;
    }
    
    .pulse-red {
        animation: pulseRed 2s ease-in-out 1;
    }
    
    @keyframes  pulseGreen {
        0% { background-color: transparent; }
        30% { background-color: rgba(16, 185, 129, 0.15); }
        100% { background-color: transparent; }
    }
    
    @keyframes  pulseRed {
        0% { background-color: transparent; }
        30% { background-color: rgba(239, 68, 68, 0.15); }
        100% { background-color: transparent; }
    }
</style>

<!-- TradingView Widget Script -->
<script type="text/javascript" src="../tv.js"></script>
<script type="text/javascript">
    // Initialize TradingView widget with advanced chart options
    let widget;
    let currentTimeframe = '60'; // Default to 1H
    let darkMode = document.documentElement.classList.contains('dark') || 
                 window.matchMedia('(prefers-color-scheme: dark)').matches;
    
    function initTradingViewWidget() {
        if (widget) {
            widget.remove();
        }
        
        widget = new TradingView.widget({
            "width": "100%",
            "height": "100%",
            "symbol": "COINBASE:BTCUSD",
            "interval": currentTimeframe,
            "timezone": "Etc/UTC",
            "theme": darkMode ? "dark" : "light",
            "style": "1", // Use candlesticks for better visualization
            "locale": "en",
            "toolbar_bg": darkMode ? "#2a2f3c" : "#f1f3f6",
            "enable_publishing": false,
            "hide_top_toolbar": true,
            "hide_legend": false,
            "hide_side_toolbar": true,
            "allow_symbol_change": true,
            "save_image": false,
            "backgroundColor": darkMode ? "rgba(26, 30, 41, 0.5)" : "rgba(255, 255, 255, 0.5)",
            "gridColor": darkMode ? "rgba(255, 255, 255, 0.06)" : "rgba(0, 0, 0, 0.06)",
            "studies": [
                "MAExp@tv-basicstudies",
                "RSI@tv-basicstudies"
            ],
            "container_id": "tradingview_f933e",
            "overrides": {
                "mainSeriesProperties.candleStyle.upColor": "#10b981",
                "mainSeriesProperties.candleStyle.downColor": "#ef4444",
                "mainSeriesProperties.candleStyle.borderUpColor": "#10b981",
                "mainSeriesProperties.candleStyle.borderDownColor": "#ef4444",
                "mainSeriesProperties.candleStyle.wickUpColor": "#10b981",
                "mainSeriesProperties.candleStyle.wickDownColor": "#ef4444"
            }
        });
    }
    
    // Initialize the widget
    document.addEventListener('DOMContentLoaded', function() {
        initTradingViewWidget();
        updateLastUpdatedTime();
        
        // Setup timeframe buttons
        document.getElementById('time-1h').addEventListener('click', function() {
            setTimeframe('60', this);
        });
        document.getElementById('time-1d').addEventListener('click', function() {
            setTimeframe('D', this);
        });
        document.getElementById('time-1w').addEventListener('click', function() {
            setTimeframe('W', this);
        });
        document.getElementById('time-1m').addEventListener('click', function() {
            setTimeframe('M', this);
        });
        
        // Update currency display when selecting source/destination
        const sourceasset = document.getElementById('sourceasset');
        const destinationasset = document.getElementById('destinationasset');
        const sourceCurrency = document.getElementById('source-currency');
        const destCurrency = document.getElementById('dest-currency');
        
        if (sourceasset && sourceCurrency) {
            sourceasset.addEventListener('change', function() {
                sourceCurrency.textContent = this.value.toUpperCase();
            });
            // Initial value
            sourceCurrency.textContent = sourceasset.value.toUpperCase();
        }
        
        if (destinationasset && destCurrency) {
            destinationasset.addEventListener('change', function() {
                destCurrency.textContent = this.value.toUpperCase();
            });
            // Initial value
            destCurrency.textContent = destinationasset.value.toUpperCase();
        }
    });
    
    // Function to update the timeframe
    function setTimeframe(interval, button) {
        currentTimeframe = interval;
        
        // Update button states
        document.querySelectorAll('#time-1h, #time-1d, #time-1w, #time-1m').forEach(btn => {
            btn.classList.remove('bg-primary', 'text-white');
            btn.classList.add('bg-light-100', 'dark:bg-dark-200', 'text-dark-300', 'dark:text-light-300', 'hover:bg-light-200', 'dark:hover:bg-dark-300');
        });
        
        button.classList.remove('bg-light-100', 'dark:bg-dark-200', 'text-dark-300', 'dark:text-light-300', 'hover:bg-light-200', 'dark:hover:bg-dark-300');
        button.classList.add('bg-primary', 'text-white');
        
        // Update the widget with new timeframe
        if (widget) {
            widget.setSymbol('COINBASE:BTCUSD', interval);
        }
    }
    
    // Function to update last updated time
    function updateLastUpdatedTime() {
        const now = new Date();
        const hours = now.getHours().toString().padStart(2, '0');
        const minutes = now.getMinutes().toString().padStart(2, '0');
        document.getElementById('last-updated').textContent = `${hours}:${minutes}`;
    }
    
    // Check for theme changes
    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
    mediaQuery.addEventListener('change', (e) => {
        darkMode = e.matches;
        initTradingViewWidget(); // Reinitialize with new theme
    });
    
    // Toggle theme when user manually changes theme
    const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
            if (mutation.attributeName === 'class') {
                const isDark = document.documentElement.classList.contains('dark');
                if (isDark !== darkMode) {
                    darkMode = isDark;
                    initTradingViewWidget();
                }
            }
        });
    });
    
    observer.observe(document.documentElement, { attributes: true });
    
    // Update market data every minute
    setInterval(function() {
        updateLastUpdatedTime();
        // In a real implementation, you would fetch updated market data here
    }, 60000);
</script>

<!-- Modern Toast Notification System -->
<script>
    function showToast(type, title, message) {
        const toastContainer = document.getElementById('toast-container');
        const isDarkMode = document.documentElement.classList.contains('dark') || 
                          window.matchMedia('(prefers-color-scheme: dark)').matches;
        
        // Determine toast class based on type and dark mode
        let toastClass = type;
        if (isDarkMode) {
            toastClass = 'dark-' + type;
        }
        
        // Create toast element
        const toast = document.createElement('div');
        toast.className = `toast ${toastClass}`;
        
        // Set icon based on type
        let icon = type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle';
        
        // Build toast HTML
        toast.innerHTML = `
            <div class="icon">
                <i class="fas ${icon}"></i>
            </div>
            <div class="content">
                <div class="title">${title || 'Notification'}</div>
                <div class="message">${message}</div>
            </div>
            <div class="close" onclick="this.parentElement.remove()">
                <i class="fas fa-times"></i>
            </div>
            <div class="progress">
                <div class="progress-bar"></div>
            </div>
        `;
        
        // Add to container
        toastContainer.appendChild(toast);
        
        // Remove after animation completes
        setTimeout(() => {
            if (toast.parentNode) {
                toast.style.animation = 'fadeOut 0.3s forwards';
                setTimeout(() => {
                    if (toast.parentNode) {
                        toast.remove();
                    }
                }, 300);
            }
        }, 5000);
        
        // Allow click to dismiss
        toast.addEventListener('click', function(e) {
            if (!e.target.classList.contains('close') && !e.target.parentElement.classList.contains('close')) {
                this.style.animation = 'fadeOut 0.3s forwards';
                setTimeout(() => {
                    if (this.parentNode) {
                        this.remove();
                    }
                }, 300);
            }
        });
    }

    // Make sure notify function is available globally
    window.notify = function(options, settings) {
        const type = (settings && settings.type) || 'info';
        const title = (options && options.title) || '';
        const message = (options && options.message) || '';
        showToast(type, title, message);
    };

    // If jQuery is available, also define $.notify
    if (typeof jQuery !== 'undefined') {
        jQuery.notify = window.notify;
    }
</script>

<!-- Include the original exchange script with modern adaptations -->
<script>
    // Get DOM elements
    let destinationasset = document.getElementById('destinationasset');
    let sourceasset = document.getElementById('sourceasset');
    let amount = document.getElementById('amount');
    let quatity = document.getElementById('quantity');
    let realquantity = document.getElementById('realquantity');
    
    // Add event listeners for asset selection changes
    destinationasset.addEventListener('change', validate);
    sourceasset.addEventListener('change', validate);
    
    // Initial validation on page load
    if (destinationasset.value == sourceasset.value) {
        window.notify({
            title: 'Error',
            message: 'Source and Destination account cannot be the same',
        },{
            type: 'danger',
        });
                
        destinationasset.value = '';
        amount.placeholder = '';
        quatity.placeholder = '';
        amount.value = '';
        quatity.value = '';
    } else {
        amount.placeholder = `Enter amount of ${sourceasset.value}`;
        quatity.placeholder = `Quantity of ${destinationasset.value}`;
    }
    
    // Validation function for account selection
    function validate(){
        // Reset values when changing assets
        amount.value = '';
        quatity.value = '';
        realquantity.value = '';
        
        // Add visual feedback for selection change
        amount.classList.add('border-primary');
        setTimeout(() => {
            amount.classList.remove('border-primary');
        }, 1000);
        
        // Check if source and destination are the same
        if (destinationasset.value == sourceasset.value) {
            window.notify({
                title: 'Error',
                message: 'Source and Destination account cannot be the same',
            },{
                type: 'danger',
            });
                  
            destinationasset.value = '';
            amount.placeholder = '';
            quatity.placeholder = '';
            amount.value = '';
            quatity.value = '';
        } else {
            // Update placeholders with selected assets
            amount.placeholder = `Enter amount of ${sourceasset.value}`;
            quatity.placeholder = `Quantity of ${destinationasset.value}`;
            
            // Update currency displays if elements exist
            const sourceCurrency = document.getElementById('source-currency');
            const destCurrency = document.getElementById('dest-currency');
            
            if (sourceCurrency) {
                sourceCurrency.textContent = sourceasset.value.toUpperCase();
            }
            
            if (destCurrency) {
                destCurrency.textContent = destinationasset.value.toUpperCase();
            }
        }
    }

    // Add event listener for amount changes
    amount.addEventListener('keyup', getQuantity);
    amount.addEventListener('input', getQuantity);

    // Function to get exchange quantity based on amount
    function getQuantity(){
        // Only proceed if amount has a value
        if (amount.value && amount.value > 0) {
            // Show loading state
            quatity.value = 'Calculating...';
            
            // Build the API URL
            let uurl = "https://meritzinvestment.co.uk/dashboard/asset-price" + '/' + sourceasset.value + '/' + destinationasset.value + '/' + amount.value;
            
            // Fetch exchange rate data
            fetch(uurl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(response => {
                    if (response.status === 200) {
                        // Format and display the quantity
                        quatity.value = response.data + ' ' + destinationasset.value;
                        realquantity.value = response.data;
                        
                        // Add visual feedback for successful rate fetch
                        quatity.classList.add('pulse-green');
                        setTimeout(() => {
                            quatity.classList.remove('pulse-green');
                        }, 2000);
                    } else {
                        // Handle API error response
                        quatity.value = 'Error calculating rate';
                        console.error('API Error:', response);
                    }
                })
                .catch(error => {
                    // Handle network or other errors
                    console.error('Exchange Rate Error:', error);
                    quatity.value = 'Could not calculate rate';
                });
        } else {
            // Clear output if amount is empty
            quatity.value = '';
            realquantity.value = '';
        }
    }

    // Set up the form submission
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.getElementById('exchnageform');
        
        if (form) {
            form.addEventListener('submit', function(event) {
                event.preventDefault();
                exchangeNow(event);
                return false;
            });
        }
        
        // Initialize asset currency displays
        const sourceCurrency = document.getElementById('source-currency');
        const destCurrency = document.getElementById('dest-currency');
        
        if (sourceCurrency && sourceasset) {
            sourceCurrency.textContent = sourceasset.value.toUpperCase();
        }
        
        if (destCurrency && destinationasset) {
            destCurrency.textContent = destinationasset.value.toUpperCase();
        }
    });

    // Function to handle the exchange submission
    function exchangeNow(event) {
        event.preventDefault();
        
        // Validate amount is provided
        if (!amount.value || amount.value <= 0) {
            window.notify({
                title: 'Error',
                message: 'Please Enter a valid Amount to Exchange',
            },{
                type: 'danger',
            });
            
            // Add visual feedback for error
            amount.classList.add('border-red-500');
            amount.focus();
            setTimeout(() => {
                amount.classList.remove('border-red-500');
            }, 2000);
            
            return false;
        } else {
            // Show loading state
            const submitBtn = document.querySelector('#exchnageform button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Processing...';
            submitBtn.disabled = true;
            submitBtn.classList.add('opacity-75');
            
            // Get form data
            const formData = new FormData(document.getElementById('exchnageform'));
            
            // Create request headers
            const headers = {
                'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').getAttribute('content'),
                'Accept': 'application/json',
                'X-Requested-With': 'XMLHttpRequest'
            };
            
            // Send the request
            fetch("https://meritzinvestment.co.uk/dashboard/exchange", {
                method: 'POST',
                headers: headers,
                body: formData,
                credentials: 'same-origin'
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(response => {
                // Reset button state
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                submitBtn.classList.remove('opacity-75');
                
                if (response.status === 200) {
                    // Show success notification
                    window.notify({
                        title: 'Success',
                        message: response.success,
                    },{
                        type: 'success',
                    });
                    
                    // Add visual feedback for success
                    const formContainer = document.querySelector('#exchnageform').closest('.bg-white');
                    formContainer.classList.add('pulse-green');
                    
                    // Reset form fields
                    amount.value = '';
                    quatity.value = '';
                    realquantity.value = '';
                    
                    // Refresh balances immediately
                    getcurrbalance();
                    
                    // Reload after delay for complete refresh
                    setTimeout(function(){ 
                        window.location.reload(true);
                    }, 3000);
                } else {
                    // Show error notification
                    window.notify({
                        title: 'Error',
                        message: response.message || 'Something went wrong with your exchange',
                    },{
                        type: 'danger',
                    });
                }
            })
            .catch(error => {
                // Reset button state
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                submitBtn.classList.remove('opacity-75');
                
                console.error('Exchange Error:', error);
                
                // Show error notification
                window.notify({
                    title: 'Error',
                    message: 'An error occurred while processing your request. Please try again.',
                },{
                    type: 'danger',
                });
            });
        }
    }

    // Function to get and update cryptocurrency balances
    function getcurrbalance() {
        let usdelement = document.querySelectorAll('.usdelement');
        
        usdelement.forEach(element => {
            // Get the cryptocurrency from the element ID
            let coin = element.id;
            
            // Add loading state
            element.innerHTML = '<span class="inline-block w-full h-4 bg-light-100 dark:bg-dark-300 rounded shimmer"></span>';
            
            // Fetch updated balance
            fetch("https://meritzinvestment.co.uk/dashboard/balances" + '/' + coin)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to fetch balance');
                    }
                    return response.json();
                })
                .then(response => {
                    if (response.data) {
                        // Update balance with currency symbol
                        element.textContent = "$" + response.data;
                        
                        // Add subtle animation for balance updates
                        element.classList.add('pulse-green');
                        setTimeout(() => {
                            element.classList.remove('pulse-green');
                        }, 2000);
                    } else {
                        element.textContent = "Error loading balance";
                    }
                })
                .catch(error => {
                    console.error('Balance Fetch Error:', error);
                    element.textContent = "Error loading balance";
                });
        });
    }
    
    // Initial balance load
    getcurrbalance();
    
    // Setup auto-refresh for balances
    setInterval(function(){
        getcurrbalance();
    }, 60000); // Every 60 seconds
</script>    </div>

    <!-- Footer -->
    <div class="py-4 border-t dark:border-dark-100 border-light-200 text-center md:text-left hidden md:flex md:justify-between md:items-center px-4 md:px-6">
        <div>
            <p class="text-sm dark:text-gray-400 text-gray-600">All Rights Reserved &copy; Meritzinvestment 2025</p>
        </div>
    </div>
</div>
    </div>

    <!-- Mobile Navigation -->
    <!-- Modern Mobile Navigation -->
<div class="fixed bottom-0 left-0 right-0 z-[9990] md:hidden">
    <!-- Main Navigation Bar - Refined Design -->
    <div class="bg-gradient-to-b dark:from-dark-50 dark:to-dark from-light-100 to-light dark:border-dark-100/80 border-light-200/80 border-t pt-0.5">
        <!-- Interactive Track Bar -->
        <div class="mx-auto w-1/2 h-1 -mt-0.5 rounded-full bg-gradient-to-r from-primary/20 via-secondary/60 to-tertiary/20"></div>
        
        <!-- Navigation Items -->
        <div class="flex items-center justify-around h-16 relative px-2">
            <!-- Active Navigation Indicator (SVG-based) -->
            <svg class="absolute bottom-0 left-0 w-full h-12 z-0 pointer-events-none" preserveaspectratio="none">
                <defs>
                    <lineargradient id="activeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" stop-color="rgb(200, 139, 101)" stop-opacity="0.2"></stop>
                        <stop offset="50%" stop-color="rgb(200, 139, 101)" stop-opacity="0.1"></stop>
                        <stop offset="100%" stop-color="rgb(200, 139, 101)" stop-opacity="0.2"></stop>
                    </lineargradient>
                </defs>
                <rect id="nav-indicator" x="10%" y="0" width="20%" height="100%" rx="16" fill="url(#activeGradient)" style="display:none;"></rect>
            </svg>
            
            <!-- Home -->
            <a href="../dashboard.html" class="flex flex-col items-center justify-center h-full w-full relative z-10 transition-all duration-200 nav-item " data-index="0">
                <div class="nav-icon-wrapper dark:text-gray-400 text-gray-600 transition-all duration-300">
                    <i data-lucide="home" class="h-5 w-5"></i>
                </div>
                <span class="text-xs mt-1 dark:text-gray-400 text-gray-600 transition-all duration-300">Home</span>
            </a>
            
            <!-- Deposit -->
            <a href="deposits.html" class="flex flex-col items-center justify-center h-full w-full relative z-10 transition-all duration-200 nav-item " data-index="1">
                <div class="nav-icon-wrapper dark:text-gray-400 text-gray-600 transition-all duration-300">
                    <i data-lucide="download" class="h-5 w-5"></i>
                </div>
                <span class="text-xs mt-1 dark:text-gray-400 text-gray-600 transition-all duration-300">Deposit</span>
            </a>
            
            <!-- Quick Actions (FAB) -->
            <div class="flex flex-col items-center h-full relative px-2 -mt-8">
                <button id="fab-button" class="h-14 w-14 rounded-full shadow-lg flex items-center justify-center relative z-20 bg-primary transform hover:scale-105 transition-all duration-300">
                    <svg class="absolute inset-0 w-full h-full" viewbox="0 0 100 100">
                        <circle cx="50" cy="50" r="48" fill="none" stroke-width="2" stroke="rgba(255,255,255,0.1)"></circle>
                        <circle cx="50" cy="50" r="48" fill="none" stroke-width="2" stroke="rgb(200, 139, 101)" stroke-dasharray="302" stroke-dashoffset="302" class="animate-dash"></circle>
                    </svg>
                    <i data-lucide="zap" class="h-6 w-6 text-white"></i>
                </button>
                <span class="text-xs dark:text-gray-400 text-gray-600 absolute -bottom-2">Actions</span>
            </div>
            
            <!-- History -->
            <a href="accounthistory.html" class="flex flex-col items-center justify-center h-full w-full relative z-10 transition-all duration-200 nav-item " data-index="3">
                <div class="nav-icon-wrapper dark:text-gray-400 text-gray-600 transition-all duration-300">
                    <i data-lucide="history" class="h-5 w-5"></i>
                </div>
                <span class="text-xs mt-1 dark:text-gray-400 text-gray-600 transition-all duration-300">History</span>
            </a>
            
            <!-- Profile -->
            <a href="account-settings.html" class="flex flex-col items-center justify-center h-full w-full relative z-10 transition-all duration-200 nav-item " data-index="4">
                <div class="nav-icon-wrapper dark:text-gray-400 text-gray-600 transition-all duration-300">
                    <i data-lucide="user" class="h-5 w-5"></i>
                </div>
                <span class="text-xs mt-1 dark:text-gray-400 text-gray-600 transition-all duration-300">Profile</span>
            </a>
        </div>
    </div>

    <!-- Floating Action Menu (hidden by default) -->
    <div id="fab-menu" class="hidden fixed inset-0 dark:bg-dark/70 bg-light/70 backdrop-blur-sm z-[9991] animate-in fade-in duration-300">
        <div class="absolute inset-x-0 bottom-24 flex flex-col items-center">
            <!-- Actions Grid -->
            <div class="flex flex-wrap justify-center gap-4 max-w-md mx-auto p-3">
                <!-- Invest -->
                                <a href="buy-plan.html" class="w-[calc(33%-12px)] aspect-square flex flex-col items-center justify-center rounded-2xl bg-gradient-to-b from-secondary/20 to-secondary/5 border border-secondary/20 hover:from-secondary/30 transition-all duration-300 shadow-lg menu-item">
                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-secondary to-secondary/70 flex items-center justify-center mb-2">
                        <i data-lucide="trending-up" class="h-6 w-6 text-white"></i>
                    </div>
                    <span class="text-xs font-medium dark:text-white text-dark">Invest</span>
                </a>
                                
                <!-- Withdraw -->
                                <a href="../user/confirm-password.html" class="w-[calc(33%-12px)] aspect-square flex flex-col items-center justify-center rounded-2xl bg-gradient-to-b from-primary/20 to-primary/5 border border-primary/20 hover:from-primary/30 transition-all duration-300 shadow-lg menu-item">
                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center mb-2">
                        <i data-lucide="upload" class="h-6 w-6 text-white"></i>
                    </div>
                    <span class="text-xs font-medium dark:text-white text-dark">Withdraw</span>
                </a>
                                
                <!-- Swap -->
                                <a href="asset-balance.html" class="w-[calc(33%-12px)] aspect-square flex flex-col items-center justify-center rounded-2xl bg-gradient-to-b from-tertiary/20 to-tertiary/5 border border-tertiary/20 hover:from-tertiary/30 transition-all duration-300 shadow-lg menu-item">
                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-tertiary to-tertiary/70 flex items-center justify-center mb-2">
                        <i data-lucide="shuffle" class="h-6 w-6 text-white"></i>
                    </div>
                    <span class="text-xs font-medium dark:text-white text-dark">Swap</span>
                </a>
                                
                <!-- Refer -->
                <a href="referuser.html" class="w-[calc(33%-12px)] aspect-square flex flex-col items-center justify-center rounded-2xl bg-gradient-to-b from-accent/20 to-accent/5 border border-accent/20 hover:from-accent/30 transition-all duration-300 shadow-lg menu-item">
                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-accent to-accent/70 flex items-center justify-center mb-2">
                        <i data-lucide="users" class="h-6 w-6 text-white"></i>
                    </div>
                    <span class="text-xs font-medium dark:text-white text-dark">Refer</span>
                </a>
                
                <!-- Support -->
                <a href="support.html" class="w-[calc(33%-12px)] aspect-square flex flex-col items-center justify-center rounded-2xl bg-gradient-to-b from-danger/20 to-danger/5 border border-danger/20 hover:from-danger/30 transition-all duration-300 shadow-lg menu-item">
                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-danger to-danger/70 flex items-center justify-center mb-2">
                        <i data-lucide="headphones" class="h-6 w-6 text-white"></i>
                    </div>
                    <span class="text-xs font-medium dark:text-white text-dark">Support</span>
                </a>
                
                <!-- News -->
                <a href="#" class="w-[calc(33%-12px)] aspect-square flex flex-col items-center justify-center rounded-2xl bg-gradient-to-b from-purple/20 to-purple/5 border border-purple/20 hover:from-purple/30 transition-all duration-300 shadow-lg menu-item">
                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-purple to-purple/70 flex items-center justify-center mb-2">
                        <i data-lucide="newspaper" class="h-6 w-6 text-white"></i>
                    </div>
                    <span class="text-xs font-medium dark:text-white text-dark">News</span>
                </a>
            </div>
            
            <!-- Close Button -->
            <button id="fab-close" class="mt-8 w-12 h-12 rounded-full dark:bg-dark-100/80 bg-light-200/80 dark:border-dark-100 border-light-200 border flex items-center justify-center">
                <i data-lucide="x" class="h-6 w-6 dark:text-white text-dark"></i>
            </button>
        </div>
    </div>
</div>

<style>
/* SVG Animation */
@keyframes  dash {
  to {
    stroke-dashoffset: 0;
  }
}

.animate-dash {
  animation: dash 2s ease-in-out infinite alternate;
}

/* Navigation item active highlight effect */
.nav-item.active .nav-icon-wrapper::after {
    transform: scale(1);
    opacity: 1;
} 

.nav-icon-wrapper {
    position: relative;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.nav-icon-wrapper::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: rgba(200, 139, 101, 0.1);
    transform: scale(0);
    opacity: 0;
    transition: transform 0.3s ease, opacity 0.3s ease;
}

.nav-item.active .nav-icon-wrapper::after {
    transform: scale(1);
    opacity: 1;
}

/* Animation for menu items */
.menu-item {
    animation: menu-appear 0.4s backwards;
}

@keyframes  menu-appear {
    from {
        opacity: 0;
        transform: scale(0.8) translateY(20px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* Active indicator transition */
#nav-indicator {
    transition: x 0.3s ease;
}
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Get elements
        const fabButton = document.getElementById('fab-button');
        const fabMenu = document.getElementById('fab-menu');
        const fabClose = document.getElementById('fab-close');
        const navItems = document.querySelectorAll('.nav-item');
        const navIndicator = document.getElementById('nav-indicator');
        
        // Add active class to current navigation item
        navItems.forEach(item => {
            if (window.location.href.includes(item.getAttribute('href'))) {
                item.classList.add('active');
                
                // Set indicator position for active item
                const index = item.dataset.index;
                if (navIndicator && index !== undefined) {
                    navIndicator.style.display = 'block';
                    updateIndicatorPosition(parseInt(index));
                }
            }
            
            // Add click handler to update indicator position
            item.addEventListener('click', function() {
                const index = this.dataset.index;
                if (navIndicator && index !== undefined) {
                    updateIndicatorPosition(parseInt(index));
                }
            });
        });
        
        // Update the indicator position - Fixed calculation
        function updateIndicatorPosition(index) {
            if (!navIndicator) return;
            
            // Calculate the x position based on index
            // Each item takes 20% width (5 items total)
            // We add 10% to center the indicator (20% item width - 10% offset)
            const translateX = (index * 20) + '%';
            navIndicator.setAttribute('x', translateX);
        }
        
        // FAB button functionality
        if (fabButton && fabMenu && fabClose) {
            // Open menu
            fabButton.addEventListener('click', function() {
                fabMenu.classList.remove('hidden');
                
                // Stagger animation for menu items
                const menuItems = document.querySelectorAll('.menu-item');
                menuItems.forEach((item, index) => {
                    item.style.animationDelay = `${index * 0.05}s`;
                });
                
                // Change FAB icon
                const fabIcon = fabButton.querySelector('i');
                if (fabIcon) {
                    fabIcon.setAttribute('data-lucide', 'x');
                    lucide.createIcons();
                }
            });
            
            // Close menu
            fabClose.addEventListener('click', function() {
                fabMenu.classList.add('hidden');
                
                // Change FAB icon back
                const fabIcon = fabButton.querySelector('i');
                if (fabIcon) {
                    fabIcon.setAttribute('data-lucide', 'zap');
                    lucide.createIcons();
                }
            });
            
            // Close menu when clicking outside (on the backdrop)
            fabMenu.addEventListener('click', function(e) {
                if (e.target === fabMenu) {
                    fabMenu.classList.add('hidden');
                    
                    // Change FAB icon back
                    const fabIcon = fabButton.querySelector('i');
                    if (fabIcon) {
                        fabIcon.setAttribute('data-lucide', 'zap');
                        lucide.createIcons();
                    }
                }
            });
        }
    });
</script>
    <!-- Core Scripts -->
    <script src="../jquery-3.6.0.min.js"></script>
    <script src="../ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
    <script src="../dash2/libs/sweetalert/sweetalert.min.js"></script>
    <script type="text/javascript" src="../v/bs4/dt-1.10.21/af-2.3.5/b-1.6.3/b-flash-1.6.3/b-html5-1.6.3/b-print-1.6.3/r-2.2.5/datatables.min.js"></script>
<script>
        lucide.createIcons();
    </script>
    <!-- Theme Management Script -->
    <script>
        // Theme initialization
        document.addEventListener('DOMContentLoaded', function() {
            // Check for saved theme preference or use system preference
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const savedTheme = localStorage.getItem('darkMode');

            if (savedTheme === 'true' || (savedTheme === null && prefersDark)) {
                document.documentElement.classList.add('dark');
            } else if (savedTheme === 'false') {
                document.documentElement.classList.remove('dark');
            }

            // Update theme switcher icon
            updateThemeIcon();
        });

        // Function to toggle theme
        function toggleTheme() {
            if (document.documentElement.classList.contains('dark')) {
                document.documentElement.classList.remove('dark');
                localStorage.setItem('darkMode', 'false');
            } else {
                document.documentElement.classList.add('dark');
                localStorage.setItem('darkMode', 'true');
            }

            // Update the icon
            updateThemeIcon();
        }

        // Update theme icon based on current theme
        function updateThemeIcon() {
            const isDark = document.documentElement.classList.contains('dark');
            const sunIcon = document.querySelector('[data-lucide="sun"]');
            const moonIcon = document.querySelector('[data-lucide="moon"]');

            if (sunIcon && moonIcon) {
                if (isDark) {
                    sunIcon.style.display = 'block';
                    moonIcon.style.display = 'none';
                } else {
                    sunIcon.style.display = 'none';
                    moonIcon.style.display = 'block';
                }
            }
        }
    </script>

    <!-- Initialize Lucide Icons -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            lucide.createIcons();

            // Mobile menu toggle functionality
            const menuToggles = document.querySelectorAll('[data-action="sidenav-pin"]');
            const sidebar = document.getElementById('sidenav-main');

            if (menuToggles.length > 0 && sidebar) {
                menuToggles.forEach(toggle => {
                    toggle.addEventListener('click', function(e) {
                        e.preventDefault();
                        sidebar.classList.toggle('active');
                        sidebar.classList.toggle('hidden');
                        sidebar.classList.toggle('md:block');
                    });
                });

                // Close sidebar when clicking outside on mobile
                document.addEventListener('click', function(e) {
                    const isMobile = window.innerWidth < 768;
                    const clickedInside = sidebar.contains(e.target);
                    const clickedToggle = Array.from(menuToggles).some(toggle => toggle.contains(e.target));

                    if (isMobile && !clickedInside && !clickedToggle && sidebar.classList.contains('active')) {
                        sidebar.classList.remove('active');
                        sidebar.classList.add('hidden');
                        sidebar.classList.add('md:block');
                    }
                });
            }

            // Initialize Select2
            if ($.fn.select2) {
                $('.select2').select2();
            }

            // Initialize DataTables responsively
            if ($.fn.DataTable) {
                $('.datatable').DataTable({
                    responsive: true,
                    dom: '<"top"fl>rt<"bottom"ip>',
                    language: {
                        search: "",
                        searchPlaceholder: "Search..."
                    }
                });
            }
        });
    </script>

   <script src="../widget/4shHsiHCSe" async=""></script>






















   

    <script src="../livewire/livewire.js?id=90730a3b0e7144480175" data-turbo-eval="false" data-turbolinks-eval="false"></script><script data-turbo-eval="false" data-turbolinks-eval="false">window.livewire = new Livewire();window.Livewire = window.livewire;window.livewire_app_url = '';window.livewire_token = '9AUencLeaPkQhuF6eaDjc5RaG1AcsUUE0ur7vKWI';window.deferLoadingAlpine = function (callback) {window.addEventListener('livewire:load', function () {callback();});};let started = false;window.addEventListener('alpine:initializing', function () {if (! started) {window.livewire.start();started = true;}});document.addEventListener("DOMContentLoaded", function () {if (! started) {window.livewire.start();started = true;}});</script>
    </body>
</html>
