<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <script type="text/javascript" src="v3/index.htm"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- CSRF Token -->
    <meta name="csrf-token" content="9AUencLeaPkQhuF6eaDjc5RaG1AcsUUE0ur7vKWI">
    <title>Meritzinvestment | Account Dashboard</title>

    <link rel="icon" href="storage/app/public/photos/2CRBgD4XlBmDKF5o3P7RBXR7PSsw5tCtb6sKZ5bm.png" type="image/png">

    <!-- Core CSS -->
    <link href="npm/tailwindcss%402.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="3.4.16"></script>
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    screens: {
                        'xs': '375px',
                    },
                    colors: {
                        primary: {
                             DEFAULT: '#0052FF',
                           '50': '#e5efff',
                           '100': '#cce0ff',
                            '200': '#99c2ff',
                            '300': '#66a3ff',
                            '400': '#3385ff',
                            '500': '#0052FF',
                            '600': '#0048e6',
                            '700': '#003dbf',
                            '800': '#003399',
                            '900': '#002266',
                        },
                        secondary: {
                            DEFAULT: '#4A9D7F',
                            '50': '#E8F5F0',
                            '100': '#D1EBE1',
                            '200': '#A3D7C3',
                            '300': '#76C3A5',
                            '400': '#4A9D7F',
                            '500': '#3C7F65',
                            '600': '#2E614D',
                            '700': '#214435',
                            '800': '#13261E',
                            '900': '#040906',
                        },
                        tertiary: {
                            DEFAULT: '#627EEA', // Ethereum blue
                            '50': '#EDF0FC',
                            '100': '#DBE1F9',
                            '200': '#B7C3F3',
                            '300': '#93A6ED',
                            '400': '#627EEA',
                            '500': '#3053E4',
                            '600': '#173BCE',
                            '700': '#122FA8',
                            '800': '#0D2382',
                            '900': '#08165C',
                        },
                        accent: {
                            DEFAULT: '#F0B90B', // Binance yellow
                            '50': '#FEF9E6',
                            '100': '#FDF3CC',
                            '200': '#FAE699',
                            '300': '#F7DA66',
                            '400': '#F0B90B',
                            '500': '#C39508',
                            '600': '#967106',
                            '700': '#694D04',
                            '800': '#3C2A02',
                            '900': '#0F0A01',
                        },
                        danger: {
                            DEFAULT: '#FF6B6B',
                            '50': '#FFF0F0',
                            '100': '#FFE0E0',
                            '200': '#FFC2C2',
                            '300': '#FFA3A3',
                            '400': '#FF6B6B',
                            '500': '#FF3838',
                            '600': '#FF0505',
                            '700': '#D10000',
                            '800': '#9E0000',
                            '900': '#6B0000',
                        },
                        purple: {
                            DEFAULT: '#9164CC',
                            '50': '#F3EDFA',
                            '100': '#E7DCF5',
                            '200': '#CFB9EB',
                            '300': '#B796E0',
                            '400': '#9164CC',
                            '500': '#7642BE',
                            '600': '#5D33A0',
                            '700': '#44267C',
                            '800': '#2C1958',
                            '900': '#140B34',
                        },
                        dark: {
                            DEFAULT: '#1A1F2C',
                            '50': '#1E2430',
                            '100': '#2A303C',
                            '200': '#343D4F',
                            '300': '#3E4A62',
                        },
                        light: {
                            DEFAULT: '#F8FAFC',
                            '50': '#FFFFFF',
                            '100': '#F1F5F9',
                            '200': '#E2E8F0',
                            '300': '#CBD5E1',
                        },
                    },
                    animation: {
                        'in': 'fadeIn 0.3s ease-in-out',
                        'slide-in-top': 'slideInFromTop 0.3s ease-in-out',
                        'slide-in-bottom': 'slideInFromBottom 0.3s ease-in-out',
                    },
                    keyframes: {
                        fadeIn: {
                            'from': { opacity: '0' },
                            'to': { opacity: '1' }
                        },
                        slideInFromTop: {
                            'from': { transform: 'translateY(-20px)', opacity: '0' },
                            'to': { transform: 'translateY(0)', opacity: '1' }
                        },
                        slideInFromBottom: {
                            'from': { transform: 'translateY(20px)', opacity: '0' },
                            'to': { transform: 'translateY(0)', opacity: '1' }
                        }
                    }
                }
            }
        }
    </script>
 <script src="lucide%400.515.0/dist/umd/lucide.min.js"></script>
    <!-- Lucide Icons -->
    <script src="npm/lucide%40latest/dist/umd/lucide.min.js"></script>

    <!-- Additional libraries that are still needed -->
    <link rel="stylesheet" href="dash2/libs/sweetalert2/dist/sweetalert2.min.css">
    <script src="dash2/libs/sweetalert/sweetalert.min.js"></script>
    <link rel="stylesheet" type="text/css" href="v/bs4/dt-1.10.21/af-2.3.5/b-1.6.3/b-flash-1.6.3/b-html5-1.6.3/b-print-1.6.3/r-2.2.5/datatables.min.css">

    <!-- Alpine.js -->
    <script src="gh/alpinejs/alpine%40v2.8.1/dist/alpine.min.js" defer=""></script>

    <!-- Select2 for dropdowns -->
    <link href="ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet">
  <!--  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" integrity="sha512-fD9DI5bZwQxOi7MhYWnnNPlvXdp/2Pj3XSTRrFs5FQa4mizyGLnJcN6tuvUS6LbmgN1ut+XGSABKvjN0H6Aoow==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->
    <link rel="stylesheet" href="FontAwesome6Pro/css/all.min.css">

    <!-- Custom Styles -->
    <style>
        @keyframes  fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes  slideInFromTop {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes  slideInFromBottom {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .animate-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        .slide-in-from-top {
            animation: slideInFromTop 0.3s ease-in-out;
        }
        .slide-in-from-bottom {
            animation: slideInFromBottom 0.3s ease-in-out;
        }

        /* DataTables responsive fixes */
        .dataTables_wrapper {
            overflow-x: auto;
            width: 100%;
        }

        /* Select2 dropdown fixes */
        .select2-container {
            width: 100% !important;
        }

        /* Light and Dark mode styles */
        .dark {
            color-scheme: dark;
        }

        /* Dark mode styles for DataTables */
        .dark .dataTables_wrapper .dataTable {
            background-color: #1E2430;
            color: #fff;
        }
        .dark .dataTables_wrapper .dataTable th,
        .dark .dataTables_wrapper .dataTable td {
            border-color: #2A303C;
        }
        .dark .dataTables_wrapper .dataTables_info,
        .dark .dataTables_wrapper .dataTables_paginate {
            color: #CBD5E1 !important;
        }

        /* Light mode styles for Select2 */
        .light .select2-container--default .select2-selection--single {
            background-color: #F8FAFC;
            border-color: #CBD5E1;
        }

        /* Dark mode styles for Select2 */
        .dark .select2-container--default .select2-selection--single {
            background-color: #1E2430;
            border-color: #2A303C;
            color: #F8FAFC;
        }
        .dark .select2-container--default .select2-selection--single .select2-selection__rendered {
            color: #F8FAFC;
        }
    </style>
    <style>[wire\:loading], [wire\:loading\.delay], [wire\:loading\.inline-block], [wire\:loading\.inline], [wire\:loading\.block], [wire\:loading\.flex], [wire\:loading\.table], [wire\:loading\.grid], [wire\:loading\.inline-flex] {display: none;}[wire\:loading\.delay\.shortest], [wire\:loading\.delay\.shorter], [wire\:loading\.delay\.short], [wire\:loading\.delay\.long], [wire\:loading\.delay\.longer], [wire\:loading\.delay\.longest] {display:none;}[wire\:offline] {display: none;}[wire\:dirty]:not(textarea):not(input):not(select) {display: none;}input:-webkit-autofill, select:-webkit-autofill, textarea:-webkit-autofill {animation-duration: 50000s;animation-name: livewireautofill;}@keyframes livewireautofill { from {} }</style>
    </head>

<body class="dark:bg-dark bg-light-100 dark:text-white text-dark transition-colors duration-200">
    <script>
        
    </script>

    <!-- Application container -->
    <div class="flex flex-col md:flex-row min-h-screen relative">
        <!-- Sidebar Overlay -->
<div id="sidebar-overlay" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-[10000] hidden transition-opacity duration-300"></div>

<!-- Modern Sidebar -->
<div class="fixed inset-y-0 left-0 z-[10010] w-72 transform dark:bg-gradient-to-b dark:from-dark-50 dark:to-dark bg-gradient-to-b from-light-100 to-light overflow-y-auto transition-all duration-300 ease-in-out md:relative md:translate-x-0 -translate-x-full shadow-2xl" id="sidenav-main">
    <div class="flex flex-col h-full">
        <!-- Sidebar Header with Branding -->
        <div class="flex h-16 items-center mt-4 dark:border-dark-100 border-light-200 border-b px-6">
           <a href="dashboard.html" class="flex items-center gap-2 font-bold text-xl">
            <img src="storage/app/public/photos/erS41GrjdsLGXfFderVWcZmCASGd6Rt2nIMEqnsg.png" alt="logo" class="h-8">
        </a>
            <div class="ml-auto md:hidden">
                <button class="dark:text-white text-dark-100 bg-transparent hover:text-primary transition-colors" id="closeSideNav">
                    <i data-lucide="x" class="h-5 w-5"></i>
                </button>
            </div>
        </div>

        <!-- User Profile Section with Modern Design -->
        <div class="relative mt-6 px-4 mb-6">
            <div class="p-4 rounded-xl dark:bg-dark-100/50 bg-light-200/50 backdrop-blur-sm dark:border-dark-100/40 border-light-200/40 border relative overflow-hidden group">
                <!-- Decorative background elements -->
                <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-b from-primary/10 to-transparent rounded-full blur-2xl transform translate-x-8 -translate-y-8 group-hover:translate-y-0 transition-transform duration-700"></div>
                <div class="absolute bottom-0 left-0 w-32 h-32 bg-gradient-to-t from-secondary/10 to-transparent rounded-full blur-2xl transform -translate-x-8 translate-y-8 group-hover:translate-y-0 transition-transform duration-700"></div>

                <!-- User info with better layout -->
                <div class="flex flex-col items-center relative">
                    <div class="relative mb-3">
                        <!-- Avatar with gradient ring -->
                        <div class="absolute inset-0 bg-gradient-to-r from-primary to-secondary rounded-full blur-[1px]"></div>
                        <div class="relative bg-primary h-16 w-16 rounded-full flex items-center justify-center text-xl font-bold dark:border-dark/80 border-light-300/80 border-2">
                            ab
                        </div>

                        <!-- Status indicator -->
                        <div class="absolute bottom-0 right-0 h-4 w-4 bg-secondary rounded-full dark:border-dark border-light-300 border-2 shadow-lg"></div>
                    </div>

                    <h5 class="font-medium dark:text-white text-dark mb-0.5">abc</h5>
                    <span class="text-xs dark:text-gray-400 text-gray-600 mb-3 dark:bg-dark-50/50 bg-light-200/50 px-2 py-0.5 rounded-full">online</span>

                    <!-- Balance display with card-like design -->
                    <div class="dark:bg-gradient-to-r dark:from-dark-50 dark:to-dark-100 bg-gradient-to-r from-light-100 to-light-200 p-3 rounded-lg w-full flex items-center gap-2 dark:border-dark-100/60 border-light-200/60 border relative overflow-hidden">
                        <div class="h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center">
                            <i data-lucide="wallet" class="h-4 w-4 text-primary"></i>
                        </div>
                        <div>
                            <span class="text-xs dark:text-gray-400 text-gray-600 block">Balance</span>
                            <span class="text-sm font-medium dark:text-white text-dark">$0.00</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation Menu with Category Sections -->
        <div class="flex-1 px-3 py-2">
            <div class="space-y-6">
                <!-- Main Navigation Section -->
                <div>
                    <p class="text-xs font-medium text-gray-500 uppercase px-3 mb-2">Main</p>
                    <nav class="space-y-1">
                        <a href="dashboard.html" class="flex items-center gap-3 rounded-lg bg-primary/10 text-primary px-3 py-2 transition-colors">
                            <i data-lucide="home" class="h-5 w-5"></i>
                            <span>Dashboard</span>
                        </a>

                        <a href="dashboard/account-settings.html" class="flex items-center gap-3 rounded-lg dark:text-gray-300 text-gray-700 hover:bg-dark-100/60 dark:hover:bg-dark-100/60 hover:bg-light-200/60 px-3 py-2 transition-colors">
                            <i data-lucide="user" class="h-5 w-5"></i>
                            <span>Profile</span>
                        </a>
                    </nav>
                </div>

                <!-- Finance Section -->
                <div>
                    <p class="text-xs font-medium text-gray-500 uppercase px-3 mb-2">Finance</p>
                    <nav class="space-y-1">
                        <a href="dashboard/deposits.html" class="flex items-center gap-3 rounded-lg dark:text-gray-300 text-gray-700 hover:bg-dark-100/60 dark:hover:bg-dark-100/60 hover:bg-light-200/60 px-3 py-2 transition-colors">
                            <i data-lucide="download" class="h-5 w-5"></i>
                            <span>Deposit</span>
                        </a>

                                                <a href="user/confirm-password.html" class="flex items-center gap-3 rounded-lg dark:text-gray-300 text-gray-700 hover:bg-dark-100/60 dark:hover:bg-dark-100/60 hover:bg-light-200/60 px-3 py-2 transition-colors">
                            <i data-lucide="upload" class="h-5 w-5"></i>
                            <span>Withdraw</span>
                        </a>
                        
                        <a href="dashboard/accounthistory.html" class="flex items-center gap-3 rounded-lg dark:text-gray-300 text-gray-700 hover:bg-dark-100/60 dark:hover:bg-dark-100/60 hover:bg-light-200/60 px-3 py-2 transition-colors">
                            <i data-lucide="history" class="h-5 w-5"></i>
                            <span>Transactions</span>
                        </a>

                                            </nav>
                </div>

                <!-- Investment Section -->
                                <div>
                    <p class="text-xs font-medium text-gray-500 uppercase px-3 mb-2">Investments</p>
                    <nav class="space-y-1">
                        <a href="dashboard/buy-plan.html" class="flex items-center gap-3 rounded-lg dark:text-gray-300 text-gray-700 hover:bg-dark-100/60 dark:hover:bg-dark-100/60 hover:bg-light-200/60 px-3 py-2 transition-colors">
                            <i data-lucide="briefcase" class="h-5 w-5"></i>
                            <span>Trading Plans</span>
                        </a>

                        <a href="dashboard/myplans/All.html" class="flex items-center gap-3 rounded-lg dark:text-gray-300 text-gray-700 hover:bg-dark-100/60 dark:hover:bg-dark-100/60 hover:bg-light-200/60 px-3 py-2 transition-colors">
                            <i data-lucide="folder" class="h-5 w-5"></i>
                            <span>My Plans</span>
                        </a>

                        <a href="dashboard/tradinghistory.html" class="flex items-center gap-3 rounded-lg dark:text-gray-300 text-gray-700 hover:bg-dark-100/60 dark:hover:bg-dark-100/60 hover:bg-light-200/60 px-3 py-2 transition-colors">
                            <i data-lucide="trending-up" class="h-5 w-5"></i>
                            <span>Profit History</span>
                        </a>
                    </nav>
                </div>
                
                <!-- Additional Services Section -->
                <div>
                    <p class="text-xs font-medium text-gray-500 uppercase px-3 mb-2">Services</p>
                    <nav class="space-y-1">
                        

                                                <a href="dashboard/asset-balance.html" class="flex items-center gap-3 rounded-lg dark:text-gray-300 text-gray-700 hover:bg-dark-100/60 dark:hover:bg-dark-100/60 hover:bg-light-200/60 px-3 py-2 transition-colors">
                            <i data-lucide="shuffle" class="h-5 w-5"></i>
                            <span>Swap Crypto</span>
                        </a>
                        
                        
                        
                        <a href="dashboard/referuser.html" class="flex items-center gap-3 rounded-lg dark:text-gray-300 text-gray-700 hover:bg-dark-100/60 dark:hover:bg-dark-100/60 hover:bg-light-200/60 px-3 py-2 transition-colors">
                            <i data-lucide="users" class="h-5 w-5"></i>
                            <span>Referrals</span>
                        </a>
                    </nav>
                </div>
            </div>
        </div>

        <!-- Help Section with Enhanced Design -->
        <div class="mt-auto px-4 pb-6">
            <div class="rounded-xl overflow-hidden bg-gradient-to-r from-primary/80 to-secondary/80 p-0.5">
                <div class="dark:bg-dark-50 bg-light-100 rounded-lg p-4">
                    <div class="flex items-start gap-3">
                        <div class="bg-primary/20 rounded-full p-2">
                            <i data-lucide="life-buoy" class="h-5 w-5 text-primary"></i>
                        </div>
                        <div>
                            <h5 class="font-medium dark:text-white text-dark text-sm mb-1">Need Help?</h5>
                            <p class="text-xs dark:text-gray-300 text-gray-700 mb-3">
                                Our support team is available 24/7
                            </p>
                            <a href="dashboard/support.html" class="flex items-center justify-center gap-2 dark:bg-dark-100 bg-light-200 hover:bg-light-200/80 dark:hover:bg-dark-100/80 dark:text-white text-dark rounded-lg py-2 text-xs font-medium transition-colors">
                                <i data-lucide="message-circle" class="h-3.5 w-3.5"></i>
                                <span>Contact Support</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize Lucide icons
        lucide.createIcons();

        // Get elements
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');
        const sidebar = document.getElementById('sidenav-main');
        const closeBtn = document.getElementById('closeSideNav');
        const overlay = document.getElementById('sidebar-overlay');

        // Helper function to open sidebar
        function openSidebar() {
            sidebar.classList.remove('-translate-x-full');
            overlay.classList.remove('hidden');
            document.body.classList.add('overflow-hidden');
            setTimeout(() => {
                overlay.classList.add('opacity-100');
            }, 50);
        }

        // Helper function to close sidebar
        function closeSidebar() {
            sidebar.classList.add('-translate-x-full');
            overlay.classList.add('hidden');
            overlay.classList.remove('opacity-100');
            document.body.classList.remove('overflow-hidden');
        }

        // Toggle sidebar on mobile menu button click
        if (mobileMenuToggle && sidebar) {
            mobileMenuToggle.addEventListener('click', function(e) {
                e.stopPropagation();
                if (sidebar.classList.contains('-translate-x-full')) {
                    openSidebar();
                } else {
                    closeSidebar();
                }
            });
        }

        // Close sidebar on close button click
        if (closeBtn && sidebar) {
            closeBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                closeSidebar();
            });
        }

        // Close sidebar when clicking on overlay
        if (overlay) {
            overlay.addEventListener('click', function() {
                closeSidebar();
            });
        }

        // Close sidebar when clicking outside
        document.addEventListener('click', function(event) {
            const isClickInsideSidebar = sidebar.contains(event.target);
            const isClickOnToggle = mobileMenuToggle && (event.target === mobileMenuToggle || mobileMenuToggle.contains(event.target));

            if (!isClickInsideSidebar && !isClickOnToggle && !sidebar.classList.contains('-translate-x-full')) {
                closeSidebar();
            }
        });

        // Close sidebar when pressing Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeSidebar();
            }
        });
    });
</script>

        <!-- Main Content -->
    <div class="w-full flex flex-col">
    <!-- Top Menu -->
    <!-- Enhanced Top Navigation Bar -->
<header class="flex h-16 items-center justify-between dark:border-dark-100 border-light-200 border-b px-4 sm:px-6 sticky top-0 z-[9999] bg-gradient-to-r dark:from-dark dark:to-dark-50 from-light to-light-100 backdrop-blur-sm shadow-md">
    <div class="flex items-center gap-4">
        <!-- Mobile Menu Toggle with Improved Design -->
        <button class="md:hidden dark:text-white text-dark p-1.5 rounded-lg dark:hover:bg-dark-100/60 hover:bg-light-200/60 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/50" id="mobileMenuToggle">
            <i class="fas fa-bars h-5 w-5"></i>
        </button>
        
        <!-- Mobile Logo with Enhanced Appearance -->
        <div class="flex items-center gap-3 md:hidden">
            <div class="flex items-center gap-2 font-bold text-xl md:hidden">
            <img src="storage/app/public/photos/erS41GrjdsLGXfFderVWcZmCASGd6Rt2nIMEqnsg.png" alt="logo" class="h-8">
        </div>
        </div>
    </div>
    
    <!-- Right-side items with Better Layout -->
    <div class="flex items-center gap-1.5 sm:gap-3">
        <!-- Theme Toggle Button -->
       <button id="themeToggle" onclick="toggleTheme()" class="p-1.5 dark:text-gray-300 text-gray-700 hover:text-dark dark:hover:text-white dark:bg-dark-100/40 bg-light-200/40 hover:bg-light-200/80 dark:hover:bg-dark-100/80 rounded-lg transition-colors" title="Toggle Theme">
            <!-- Sun icon for light theme (shown in dark mode) -->
            <i data-lucide="sun" class="h-4 w-4"></i>
            <!-- Moon icon for dark theme (shown in light mode) -->
            <i data-lucide="moon" class="h-4 w-4"></i>
        </button>
        
        <!-- KYC Verification with Improved Design -->
                
        <!-- Notifications with Enhanced Design -->
        <div class="relative" x-data="{ 
                open: false, 
                notifications: [], 
                unreadCount: 0, 
                loading: true, 
                init() { 
                    this.fetchNotifications(); 
                    this.setupPolling(); 
                }, 
                fetchNotifications() { 
                    this.loading = true; 
                    fetch('https://meritzinvestment.co.uk/dashboard/api/notifications/latest') 
                        .then(response => response.json()) 
                        .then(data => { 
                            this.notifications = data.notifications; 
                            this.unreadCount = data.unread_count; 
                            this.loading = false; 
                        }) 
                        .catch(error => { 
                            console.error('Error fetching notifications:', error); 
                            this.loading = false; 
                        }); 
                }, 
                setupPolling() { 
                    setInterval(() => { 
                        this.fetchNotifications(); 
                    }, 30000); 
                } 
            }" x-init="init()">
            <button @click="open = !open; if(open) fetchNotifications();" class="p-1.5 dark:text-gray-300 text-gray-700 hover:text-dark dark:hover:text-white dark:bg-dark-100/40 bg-light-200/40 hover:bg-light-200/80 dark:hover:bg-dark-100/80 rounded-lg transition-colors relative" title="Notifications">
                <i class="fas fa-bell h-4 w-4"></i>
                <span x-show="unreadCount > 0" x-text="unreadCount > 9 ? '9+' : unreadCount" class="absolute -right-1 -top-1 h-4 w-4 flex items-center justify-center bg-primary text-[10px] text-white rounded-full dark:border-dark border-light-100 border"></span>
            </button>
            
            <div x-show="open" @click.away="open = false" class="absolute right-0 mt-2 w-72 dark:bg-dark-50 bg-light-100 dark:border-dark-100 border-light-200 border rounded-lg shadow-lg overflow-hidden z-[10000]">
                <div class="bg-gradient-to-r dark:from-dark-100 dark:to-dark-100/30 from-light-200 to-light-200/30 px-4 py-3 flex items-center justify-between dark:border-dark-100 border-light-200 border-b">
                    <h6 class="text-sm font-medium dark:text-white text-dark">Notifications</h6>
                    <span x-show="unreadCount > 0" x-text="unreadCount" class="text-xs bg-primary text-white px-1.5 py-0.5 rounded-full"></span>
                </div>
                
                <div class="max-h-[280px] overflow-y-auto">
                    <!-- Loading State -->
                    <template x-if="loading">
                        <div class="p-4 text-center">
                            <div class="inline-block h-6 w-6 animate-spin rounded-full border-2 border-solid border-primary border-r-transparent motion-reduce:animate-[spin_1.5s_linear_infinite]" role="status">
                                <span class="!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]">Loading...</span>
                            </div>
                        </div>
                    </template>
                    
                    <!-- Empty State -->
                    <template x-if="!loading && notifications.length === 0">
                        <div class="p-4 text-center">
                            <div class="h-12 w-12 rounded-full bg-light-200/60 dark:bg-dark-100/60 flex items-center justify-center mx-auto mb-2">
                                <i class="fas fa-bell-slash h-6 w-6 dark:text-gray-400 text-gray-600"></i>
                            </div>
                            <p class="text-xs dark:text-gray-400 text-gray-600">No notifications yet</p>
                        </div>
                    </template>
                    
                    <!-- Notifications List -->
                    <template x-if="!loading && notifications.length > 0">
                        <div>
                            <template x-for="notification in notifications" :key="notification.id">
                                <a :href="'https://meritzinvestment.co.uk/dashboard/notifications/mark-as-read/' + notification.id" class="block p-3 dark:border-dark-100/60 border-light-200/60 border-b hover:bg-dark-100/30 dark:hover:bg-dark-100/30 hover:bg-light-200/30 transition-colors" :class="{ 'dark:bg-dark-100/50 bg-light-200/50': !notification.is_read }">
                                    <div class="flex gap-3">
                                        <div :class="notification.icon_bg_color || 'bg-primary/10'" class="h-8 w-8 rounded-full flex items-center justify-center flex-shrink-0">
                                            <i :class="'fas ' + (notification.icon || 'fa-bell')" class="h-4 w-4 text-primary"></i>
                                        </div>
                                        <div>
                                            <p class="text-xs dark:text-white text-dark font-medium" x-text="notification.title || 'Notification'"></p>
                                            <p class="text-xs dark:text-gray-400 text-gray-600 mt-0.5" x-text="notification.message"></p>
                                            <p class="text-xs dark:text-gray-500 text-gray-500 mt-1" x-text="new Date(notification.created_at).toLocaleString()"></p>
                                        </div>
                                    </div>
                                </a>
                            </template>
                        </div>
                    </template>
                </div>
                
                <div class="p-2 dark:border-dark-100 border-light-200 border-t flex justify-between">
                    <a x-show="unreadCount > 0" href="dashboard/support.html" class="block text-xs text-primary hover:text-primary/80 py-1 px-2">
                        Mark all as read
                    </a>
                    <a href="dashboard/notifications.html" class="block text-xs text-primary hover:text-primary/80 py-1 px-2 ml-auto">
                        View all
                    </a>
                </div>
            </div>
        </div>
        
        <!-- User Profile Dropdown with Enhanced Design -->
        <div class="relative" x-data="{ open: false }">
            <button @click="open = !open" class="flex items-center gap-2 p-1 rounded-lg hover:bg-dark-100/40 dark:hover:bg-dark-100/40 hover:bg-light-200/40 transition-colors">
                <div class="relative">
                    <div class="absolute inset-0 bg-gradient-to-r from-primary to-secondary rounded-full opacity-80"></div>
                    <div class="relative h-7 w-7 sm:h-8 sm:w-8 bg-primary rounded-full flex items-center justify-center text-sm font-medium dark:border-dark-50 border-light-300 border-2">
                        ab
                    </div>
                </div>
                <span class="hidden md:block text-sm font-medium dark:text-white text-dark">abc</span>
                <i class="fas fa-chevron-down h-4 w-4 dark:text-gray-400 text-gray-600 hidden md:block"></i>
            </button>
            
            <div x-show="open" @click.away="open = false" class="absolute right-0 mt-2 w-56 dark:bg-dark-50 bg-light-100 dark:border-dark-100 border-light-200 border rounded-lg shadow-lg overflow-hidden z-[10000]">
                <div class="bg-gradient-to-r dark:from-dark-100 dark:to-dark-100/30 from-light-200 to-light-200/30 px-4 py-3 dark:border-dark-100 border-light-200 border-b">
                    <h6 class="text-sm font-medium dark:text-white text-dark">abc</h6>
                    <p class="text-xs dark:text-gray-400 text-gray-600 mt-0.5">abc@abc.com</p>
                </div>
                
                <div class="py-2">
                    <a href="dashboard/account-settings.html" class="flex items-center gap-2 px-4 py-2 text-sm dark:text-gray-300 text-gray-700 dark:hover:bg-dark-100/60 hover:bg-light-200/60 transition-colors">
                        <i class="fas fa-user h-4 w-4 dark:text-gray-400 text-gray-600"></i>
                        <span>My Profile</span>
                    </a>
                    <a href="dashboard/accounthistory.html" class="flex items-center gap-2 px-4 py-2 text-sm dark:text-gray-300 text-gray-700 dark:hover:bg-dark-100/60 hover:bg-light-200/60 transition-colors">
                        <i class="fas fa-history h-4 w-4 dark:text-gray-400 text-gray-600"></i>
                        <span>Transaction History</span>
                    </a>
                    <a href="dashboard/support.html" class="flex items-center gap-2 px-4 py-2 text-sm dark:text-gray-300 text-gray-700 dark:hover:bg-dark-100/60 hover:bg-light-200/60 transition-colors">
                        <i class="fas fa-life-ring h-4 w-4 dark:text-gray-400 text-gray-600"></i>
                        <span>Support</span>
                    </a>
                </div>
                
                <div class="py-2 dark:border-dark-100 border-light-200 border-t">
                    <a href="https://meritzinvestment.co.uk/logout" onclick="event.preventDefault(); document.getElementById('logout-form').submit();" class="flex items-center gap-2 px-4 py-2 text-sm text-danger dark:hover:bg-dark-100/60 hover:bg-light-200/60 transition-colors">
                        <i class="fas fa-sign-out-alt h-4 w-4"></i>
                        <span>Logout</span>
                    </a>
                    
                    <form id="logout-form" action="https://meritzinvestment.co.uk/logout" method="POST" class="hidden">
                        <input type="hidden" name="_token" value="9AUencLeaPkQhuF6eaDjc5RaG1AcsUUE0ur7vKWI">                    </form>
                </div>
            </div>
        </div>
    </div>
</header>
    <!-- Page content -->
    <div class="p-4 md:p-6 pb-20 md:pb-8 overflow-x-hidden flex-grow">
        <!-- Alert Messages -->
<div>
    </div><div>
    </div>
<!-- Announcements (if enabled) -->

<!-- Header with gradient background and stats overview -->
<div class="relative mb-6 overflow-hidden rounded-xl dark:bg-gradient-to-r dark:from-dark-50 dark:via-dark-100 dark:to-dark-200 bg-gradient-to-r from-light-200 via-light-300 to-light-200 p-4 sm:p-6">
    <!-- Background Grid Pattern -->
    <div class="absolute inset-0 opacity-10">
        <svg viewbox="0 0 400 400" class="h-full w-full" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <pattern id="grid" width="40" height="40" patternunits="userSpaceOnUse">
                    <path d="M 0 10 L 40 10 M 10 0 L 10 40" stroke="currentColor" stroke-width="0.5" fill="none"></path>
                </pattern>
            </defs>
            <rect width="100%" height="100%" fill="url(#grid)"></rect>
        </svg>
    </div>
    
    <!-- Content Area -->
    <div class="relative z-10">
        <!-- Top Section with Greeting and Quick Action -->
        <div class="mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between">
            <div>
                <h1 class="text-xl sm:text-2xl font-bold dark:text-white text-dark">Welcome back, abc!</h1>
                <p class="text-primary text-sm">Monday, June 16, 2025</p>
            </div>
            <div class="mt-4 flex flex-wrap items-center gap-3 sm:mt-0">
                <a href="dashboard/deposits.html" class="flex items-center gap-2 rounded-md bg-secondary px-3 py-2 text-sm font-medium text-white hover:bg-secondary/90 transition-colors w-auto sm:w-auto shadow-lg">
                    <i data-lucide="plus" class="h-4 w-4"></i>
                    <span>Quick Deposit</span>
                </a>
            </div>
        </div>
        
        <!-- Balance Cards Section - Split Layout -->
        <div class="grid grid-cols-1 lg:grid-cols-5 gap-4 items-stretch">
            <!-- Primary Balance Card - Left Side (2 columns on large screens) -->
            <div class="lg:col-span-2 h-full rounded-xl dark:bg-gradient-to-r dark:from-dark-50 dark:to-dark-100 bg-gradient-to-r from-light-100 to-light-200 backdrop-blur-sm p-4 sm:p-5 transition-all duration-300 shadow-lg relative group balance-card" id="balanceCard">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <h2 class="text-base sm:text-lg font-bold dark:text-white text-dark flex items-center">
                            <i data-lucide="wallet" class="h-5 w-5 mr-2 text-primary"></i>
                            Account Balance
                        </h2>
                        <p class="text-xs dark:text-gray-400 text-gray-600">Your current available balance</p>
                    </div>
                    <button id="toggleBalanceVisibility" class="dark:text-gray-400 text-gray-600 hover:text-dark dark:hover:text-white transition-colors">
                        <i data-lucide="eye" class="h-5 w-5" id="visibilityIcon"></i>
                    </button>
                </div>
                
                <div class="flex flex-col">
                    <div class="flex items-center mb-2">
                        <h3 id="balanceAmount" class="text-2xl sm:text-3xl font-bold dark:text-white text-dark mr-2">$0.00</h3>
                        <h3 id="hiddenBalance" class="text-2xl sm:text-3xl font-bold dark:text-white text-dark mr-2 hidden">••••••</h3>
                    </div>
                    <div class="flex items-center text-secondary bg-secondary/10 px-2 py-1 rounded-full text-xs w-fit mb-3">
                        <i data-lucide="check-circle" class="h-3 w-3 mr-1"></i>
                        <span>Available for Withdrawal</span>
                    </div>
                    <p class="text-xs dark:text-gray-400 text-gray-600 mb-4">Last updated: Jun 16, 2025 01:41 AM</p>
                    
                    <div class="mt-auto flex gap-2">
                        <a href="dashboard/deposits.html" class="dark:bg-dark-100 bg-light-200 hover:bg-light-200/70 dark:hover:bg-dark-100/70 dark:text-white text-dark text-xs font-medium px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1 flex-1 justify-center">
                            <i data-lucide="plus-circle" class="h-3.5 w-3.5"></i>
                            <span>Deposit</span>
                        </a>
                                                <a href="user/confirm-password.html" class="dark:bg-dark-100 bg-light-200 hover:bg-light-200/70 dark:hover:bg-dark-100/70 dark:text-white text-dark text-xs font-medium px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1 flex-1 justify-center">
                            <i data-lucide="arrow-up-right" class="h-3.5 w-3.5"></i>
                            <span>Withdraw</span>
                        </a>
                                            </div>
                </div>
                
                <!-- Decorative Gradient Accent -->
                <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-primary via-secondary to-primary opacity-80"></div>
            </div>
            
            <!-- Secondary Stats Cards -->
            <div class="lg:col-span-3 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-2 gap-3 h-full">
                <!-- Total Profit Card -->
                                <div class="rounded-lg dark:bg-dark-50 bg-light-100 dark:border-dark-100/50 border-light-200/50 border p-4 transition-all hover:border-secondary/30 h-full flex flex-col">
                    <div class="mb-2 flex items-center justify-between">
                        <span class="text-sm dark:text-gray-400 text-gray-600">Total Profit</span>
                        <div class="flex h-8 w-8 items-center justify-center rounded-full bg-secondary/10">
                            <i data-lucide="dollar-sign" class="h-4 w-4 text-secondary"></i>
                        </div>
                    </div>
                    <h3 class="mb-1 text-lg font-medium dark:text-white text-dark truncate">$0.00</h3>
                    <div class="flex items-center text-secondary mt-auto">
                        <i data-lucide="trending-up" class="mr-1 h-3 w-3"></i>
                        <span class="text-xs">+2.5% Last period</span>
                    </div>
                </div>
                                
                <!-- Bonus Card - NEW -->
                <div class="rounded-lg dark:bg-dark-50 bg-light-100 dark:border-dark-100/50 border-light-200/50 border p-4 transition-all hover:border-accent/30 h-full flex flex-col">
                    <div class="mb-2 flex items-center justify-between">
                        <span class="text-sm dark:text-gray-400 text-gray-600">Bonus</span>
                        <div class="flex h-8 w-8 items-center justify-center rounded-full bg-accent/10">
                            <i data-lucide="gift" class="h-4 w-4 text-accent"></i>
                        </div>
                    </div>
                    <h3 class="mb-1 text-lg font-medium dark:text-white text-dark truncate">$0.00</h3>
                    <div class="flex items-center text-accent mt-auto">
                        <i data-lucide="award" class="mr-1 h-3 w-3"></i>
                        <span class="text-xs">Rewards & Promotions</span>
                    </div>
                </div>
                
                <!-- Total Deposit Card -->
                <div class="rounded-lg dark:bg-dark-50 bg-light-100 dark:border-dark-100/50 border-light-200/50 border p-4 transition-all hover:border-tertiary/30 h-full flex flex-col">
                    <div class="mb-2 flex items-center justify-between">
                        <span class="text-sm dark:text-gray-400 text-gray-600">Total Deposit</span>
                        <div class="flex h-8 w-8 items-center justify-center rounded-full bg-tertiary/10">
                            <i data-lucide="arrow-down" class="h-4 w-4 text-tertiary"></i>
                        </div>
                    </div>
                    <h3 class="mb-1 text-lg font-medium dark:text-white text-dark truncate">$0.00</h3>
                    <div class="flex items-center text-tertiary mt-auto">
                        <i data-lucide="calendar" class="mr-1 h-3 w-3"></i>
                        <span class="text-xs">All time</span>
                    </div>
                </div>
                
                <!-- Total Withdrawal Card -->
                                <div class="rounded-lg dark:bg-dark-50 bg-light-100 dark:border-dark-100/50 border-light-200/50 border p-4 transition-all hover:border-primary/30 h-full flex flex-col">
                    <div class="mb-2 flex items-center justify-between">
                        <span class="text-sm dark:text-gray-400 text-gray-600">Total Withdrawal</span>
                        <div class="flex h-8 w-8 items-center justify-center rounded-full bg-primary/10">
                            <i data-lucide="arrow-up" class="h-4 w-4 text-primary"></i>
                        </div>
                    </div>
                    <h3 class="mb-1 text-lg font-medium dark:text-white text-dark truncate">$0.00</h3>
                    <div class="flex items-center text-primary mt-auto">
                        <i data-lucide="calendar" class="mr-1 h-3 w-3"></i>
                        <span class="text-xs">All time</span>
                    </div>
                </div>
                            </div>
        </div>
    </div>
</div>
<!-- Main Content Grid -->
<div class="grid grid-cols-1 gap-6 lg:grid-cols-3">
    <!-- Left Column - Active Plans and Recent Transactions -->
    <div class="lg:col-span-2 space-y-6">
        <!-- Market Pairs Carousel -->
        <div class="dark:bg-dark-50 bg-light-100 dark:border-dark-100 border-light-200 border rounded-xl overflow-hidden w-full">
            <div class="flex items-center justify-between p-4 sm:p-5 dark:border-dark-100 border-light-200 border-b">
                <h3 class="text-base sm:text-lg font-bold dark:text-white text-dark">Market Overview</h3>
                <div class="flex gap-2">
                    <button class="rounded-full dark:bg-dark-100 bg-light-200 p-1 dark:text-gray-400 text-gray-600 hover:text-dark dark:hover:text-white" id="prev-pair">
                        <i data-lucide="chevron-left" class="h-4 w-4 sm:h-5 sm:w-5"></i>
                    </button>
                    <button class="rounded-full dark:bg-dark-100 bg-light-200 p-1 dark:text-gray-400 text-gray-600 hover:text-dark dark:hover:text-white" id="next-pair">
                        <i data-lucide="chevron-right" class="h-4 w-4 sm:h-5 sm:w-5"></i>
                    </button>
                </div>
            </div>
            
            <div class="p-4 sm:p-5 overflow-hidden">
                <!-- This container will be populated dynamically using JavaScript -->
                <div class="crypto-pairs-carousel w-full">
                    <div class="flex w-full gap-4 transition-transform duration-300" id="pairs-container">
                        <!-- Crypto cards will be injected here -->
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Active Investment Plans Section -->
                <div class="dark:bg-dark-50 bg-light-100 dark:border-dark-100 border-light-200 border rounded-xl overflow-hidden w-full">
            <div class="flex items-center justify-between p-4 sm:p-5 dark:border-dark-100 border-light-200 border-b">
                <h3 class="text-base sm:text-lg font-bold dark:text-white text-dark">Active Plans <span class="text-xs dark:text-gray-400 text-gray-600">(0)</span></h3>
                            </div>
            
            <div class="p-4 sm:p-5">
                                <div class="flex flex-col items-center justify-center py-6 sm:py-8">
                    <div class="h-12 w-12 sm:h-16 sm:w-16 rounded-full dark:bg-dark-100 bg-light-200 flex items-center justify-center mb-4">
                        <i data-lucide="package" class="h-6 w-6 sm:h-8 sm:w-8 dark:text-gray-400 text-gray-600"></i>
                    </div>
                    <h4 class="dark:text-white text-dark font-medium mb-2 text-sm sm:text-base">No Active Plans</h4>
                    <p class="text-xs sm:text-sm dark:text-gray-400 text-gray-600 mb-4 text-center max-w-md">You don't have any active investment plans at the moment. Start growing your wealth today!</p>
                    <a href="dashboard/buy-plan.html" class="inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg text-sm font-medium hover:bg-primary/90 transition-colors">
                        <i data-lucide="plus" class="h-4 w-4"></i>
                        <span>Buy a Plan</span>
                    </a>
                </div>
                            </div>
        </div>
                
        <!-- Recent Transactions -->
        <div class="dark:bg-dark-50 bg-light-100 dark:border-dark-100 border-light-200 border rounded-xl overflow-hidden w-full">
            <div class="flex items-center justify-between p-4 sm:p-5 dark:border-dark-100 border-light-200 border-b">
                <h3 class="text-base sm:text-lg font-bold dark:text-white text-dark">Recent Transactions</h3>
                <a href="dashboard/accounthistory.html" class="text-primary text-sm flex items-center gap-1 hover:underline">
                    <span>View all</span>
                    <i data-lucide="chevron-right" class="h-4 w-4"></i>
                </a>
            </div>
            
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead>
                        <tr class="dark:border-dark-100 border-light-200 border-b">
                            <th class="text-left p-3 sm:p-4 text-xs font-medium dark:text-gray-400 text-gray-600">Date</th>
                            <th class="text-left p-3 sm:p-4 text-xs font-medium dark:text-gray-400 text-gray-600">Type</th>
                            <th class="text-right p-3 sm:p-4 text-xs font-medium dark:text-gray-400 text-gray-600">Amount</th>
                        </tr>
                    </thead>
                    <tbody>
                                                <tr>
                            <td colspan="3" class="p-6 sm:p-8 text-center">
                                <div class="flex flex-col items-center justify-center">
                                    <div class="h-10 w-10 sm:h-12 sm:w-12 rounded-full dark:bg-dark-100 bg-light-200 flex items-center justify-center mb-3">
                                        <i data-lucide="history" class="h-5 w-5 sm:h-6 sm:w-6 dark:text-gray-400 text-gray-600"></i>
                                    </div>
                                    <p class="dark:text-gray-400 text-gray-600 mb-1 text-sm">No transactions found</p>
                                    <p class="text-xs dark:text-gray-500 text-gray-500">Your transaction history will appear here</p>
                                </div>
                            </td>
                        </tr>
                                            </tbody>
                </table>
            </div>
        </div>
    </div>
    <!-- Right Column - Profile and Referral -->
    <div class="space-y-6">
        <!-- User Profile Card -->
        <div class="dark:bg-dark-50 bg-light-100 dark:border-dark-100 border-light-200 border rounded-xl overflow-hidden w-full">
            <div class="bg-gradient-to-r from-primary/20 to-secondary/20 p-4 sm:p-5 text-center">
                <div class="relative inline-block">
                    <div class="h-16 w-16 sm:h-20 sm:w-20 rounded-full bg-primary text-white font-bold text-xl flex items-center justify-center mx-auto">
                        ab
                    </div>
                                    </div>
                <h4 class="mt-3 font-medium dark:text-white text-dark text-sm sm:text-base">abc</h4>
                <p class="text-xs dark:text-gray-400 text-gray-600">Member since Jun 2025</p>
            </div>
            <div class="p-4 sm:p-5">
                <!-- Account Info -->
                <div class="space-y-3">
                    <div class="flex items-center justify-between">
                        <span class="text-xs sm:text-sm dark:text-gray-400 text-gray-600">Account Balance</span>
                        <span class="text-xs sm:text-sm font-medium dark:text-white text-dark">$0.00</span>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-xs sm:text-sm dark:text-gray-400 text-gray-600">Bonus</span>
                        <span class="text-xs sm:text-sm font-medium dark:text-white text-dark">$0.00</span>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-xs sm:text-sm dark:text-gray-400 text-gray-600">Referral Bonus</span>
                        <span class="text-xs sm:text-sm font-medium dark:text-white text-dark">$0.00</span>
                    </div>
                </div>
                
                <!-- Quick Actions -->
                <div class="mt-4 grid grid-cols-2 gap-2 sm:gap-3">
                    <a href="dashboard/deposits.html" class="flex items-center justify-center gap-1 sm:gap-2 p-2 dark:bg-dark-100 bg-light-200 hover:bg-light-200/70 dark:hover:bg-dark-100/70 rounded-lg dark:text-white text-dark text-xs sm:text-sm font-medium transition-colors">
                        <i data-lucide="plus-circle" class="h-3 w-3 sm:h-4 sm:w-4"></i>
                        <span>Deposit</span>
                    </a>
                                        <a href="user/confirm-password.html" class="flex items-center justify-center gap-1 sm:gap-2 p-2 dark:bg-dark-100 bg-light-200 hover:bg-light-200/70 dark:hover:bg-dark-100/70 rounded-lg dark:text-white text-dark text-xs sm:text-sm font-medium transition-colors">
                        <i data-lucide="arrow-up-right" class="h-3 w-3 sm:h-4 sm:w-4"></i>
                        <span>Withdraw</span>
                    </a>
                                    </div>
                
                <!-- Account Status -->
                <div class="mt-4 sm:mt-5 dark:border-dark-100 border-light-200 border-t pt-4 sm:pt-5">
                    <div class="flex items-center justify-between">
                        <span class="text-xs sm:text-sm dark:text-gray-400 text-gray-600">Account Status</span>
                                                <span class="inline-flex items-center text-xs font-medium text-primary bg-primary/10 px-2 py-1 rounded-full">
                            <i data-lucide="alert-circle" class="h-3 w-3 mr-1"></i> Unverified
                        </span>
                                            </div>
                </div>
            </div>
        </div>
        
        <!-- Referral Card -->
        <div class="dark:bg-dark-50 bg-light-100 dark:border-dark-100 border-light-200 border rounded-xl overflow-hidden w-full">
            <div class="flex items-center justify-between p-4 sm:p-5 dark:border-dark-100 border-light-200 border-b">
                <h3 class="font-bold dark:text-white text-dark text-sm sm:text-base">Refer & Earn</h3>
                <a href="dashboard/referuser.html" class="text-primary text-xs sm:text-sm flex items-center gap-1 hover:underline">
                    <span>Details</span>
                    <i data-lucide="chevron-right" class="h-3 w-3 sm:h-4 sm:w-4"></i>
                </a>
            </div>
            <div class="p-4 sm:p-5">
                <div class="mb-4">
                    <div class="flex mb-3">
                        <div class="h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-accent/10 flex items-center justify-center mr-3">
                            <i data-lucide="users" class="h-4 w-4 sm:h-5 sm:w-5 text-accent"></i>
                        </div>
                        <div>
                            <h4 class="font-medium dark:text-white text-dark text-xs sm:text-sm">Earn Through Referrals</h4>
                            <p class="text-xs dark:text-gray-400 text-gray-600">Earn commission when someone signs up using your link</p>
                        </div>
                    </div>
                </div>
                
                <!-- Referral Link -->
                <div class="mb-4">
                    <label class="block text-xs sm:text-sm dark:text-gray-400 text-gray-600 mb-2">Your Referral Link</label>
                    <div class="flex dark:bg-dark-100 bg-light-200 rounded-lg overflow-hidden">
                        <input type="text" id="reflink" value="https://meritzinvestment.co.uk//ref/abc" readonly="" class="flex-1 dark:bg-transparent bg-transparent border-0 px-2 sm:px-3 py-2 text-xs sm:text-sm dark:text-gray-300 text-gray-700 focus:outline-none truncate">
                        <button onclick="copyRefLink()" class="bg-primary text-white px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium hover:bg-primary/90 transition-colors flex items-center gap-1">
                            <i data-lucide="copy" class="h-3 w-3 sm:h-4 sm:w-4"></i>
                            <span>Copy</span>
                        </button>
                    </div>
                </div>
                
                <!-- Referral Stats -->
                <div class="grid grid-cols-2 gap-2 sm:gap-3">
                    <div class="dark:bg-dark-100 bg-light-200 rounded-lg p-2 sm:p-3">
                        <p class="text-xs dark:text-gray-400 text-gray-600 mb-1">Total Referrals</p>
                        <p class="text-lg sm:text-xl font-bold dark:text-white text-dark">0</p>
                    </div>
                    <div class="dark:bg-dark-100 bg-light-200 rounded-lg p-2 sm:p-3">
                        <p class="text-xs dark:text-gray-400 text-gray-600 mb-1">Earnings</p>
                        <p class="text-lg sm:text-xl font-bold dark:text-white text-dark">$0.00</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Platform Stats Card -->
        <div class="dark:bg-dark-50 bg-light-100 dark:border-dark-100 border-light-200 border rounded-xl overflow-hidden w-full">
            <div class="p-4 sm:p-5 dark:border-dark-100 border-light-200 border-b">
                <h3 class="font-bold dark:text-white text-dark text-sm sm:text-base">Platform Stats</h3>
            </div>
            <div class="p-4 sm:p-5">
                <div class="space-y-4 sm:space-y-5">
                    <!-- Overall Platform Activity -->
                    <div>
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-xs sm:text-sm dark:text-gray-400 text-gray-600">Platform Activity</span>
                            <span class="text-xs text-secondary bg-secondary/10 px-2 py-1 rounded-full">Active</span>
                        </div>
                        <div class="w-full dark:bg-dark-100 bg-light-200 rounded-full h-2">
                            <div class="bg-gradient-to-r from-secondary to-primary h-2 rounded-full" style="width: 85%"></div>
                        </div>
                    </div>
                    
                    <!-- Total Users -->
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-2">
                            <div class="h-7 w-7 sm:h-8 sm:w-8 rounded-full bg-tertiary/10 flex items-center justify-center">
                                <i data-lucide="users" class="h-3 w-3 sm:h-4 sm:w-4 text-tertiary"></i>
                            </div>
                            <span class="text-xs sm:text-sm dark:text-gray-400 text-gray-600">Total Users</span>
                        </div>
                        <span class="text-xs sm:text-sm font-medium dark:text-white text-dark">12,458+</span>
                    </div>
                    
                    <!-- Total Investments -->
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-2">
                            <div class="h-7 w-7 sm:h-8 sm:w-8 rounded-full bg-secondary/10 flex items-center justify-center">
                                <i data-lucide="briefcase" class="h-3 w-3 sm:h-4 sm:w-4 text-secondary"></i>
                            </div>
                            <span class="text-xs sm:text-sm dark:text-gray-400 text-gray-600">Total Investments</span>
                        </div>
                        <span class="text-xs sm:text-sm font-medium dark:text-white text-dark">$9.5M+</span>
                    </div>
                    
                    <!-- Server Uptime -->
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-2">
                            <div class="h-7 w-7 sm:h-8 sm:w-8 rounded-full bg-primary/10 flex items-center justify-center">
                                <i data-lucide="activity" class="h-3 w-3 sm:h-4 sm:w-4 text-primary"></i>
                            </div>
                            <span class="text-xs sm:text-sm dark:text-gray-400 text-gray-600">Server Uptime</span>
                        </div>
                        <span class="text-xs sm:text-sm font-medium dark:text-white text-dark">99.9%</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function copyRefLink() {
    var copyText = document.getElementById("reflink");
    copyText.select();
    copyText.setSelectionRange(0, 99999);
    document.execCommand("copy");
    
    // Show a toast notification
    const toast = document.createElement('div');
    toast.className = 'fixed bottom-4 right-4 bg-secondary text-white py-2 px-4 rounded-md shadow-lg flex items-center animate-in slide-in-from-bottom z-50';
    toast.innerHTML = `
        <i data-lucide="check-circle" class="h-4 w-4 mr-2"></i>
        <span class="text-sm">Referral link copied!</span>
    `;
    document.body.appendChild(toast);
    lucide.createIcons();
    
    setTimeout(() => {
        toast.classList.add('opacity-0', 'transition-opacity', 'duration-300');
        setTimeout(() => {
            document.body.removeChild(toast);
        }, 300);
    }, 3000);
}

// Fetch crypto data from CoinGecko and build carousel cards
document.addEventListener('DOMContentLoaded', function() {
    const container = document.getElementById('pairs-container');
    const prevBtn = document.getElementById('prev-pair');
    const nextBtn = document.getElementById('next-pair');
    let position = 0;
    let itemWidth = 0;
    let maxPosition = 0;
    let touchStartX = 0;
    let touchEndX = 0;

    // Fetch data from CoinGecko API (top 4 coins)
    fetch('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=4&page=1&sparkline=false')
        .then(response => response.json())
        .then(data => {
            let html = '';
            data.forEach(coin => {
                const isUp = coin.price_change_24h >= 0;
                html += `
                <div class="min-w-[100%] xs:min-w-[85%] sm:min-w-[240px] sm:w-auto rounded-xl dark:border-dark-100 border-light-200 border dark:bg-dark-100/50 bg-light-200/50 p-4 flex-shrink-0">
                    <div class="mb-3 flex items-center gap-2">
                        <img src="${coin.image}" alt="${coin.name} Logo" class="h-8 w-8 rounded-full" />
                        <div>
                            <div class="font-medium dark:text-white text-dark">${coin.name}</div>
                            <div class="text-xs dark:text-gray-400 text-gray-600">${coin.symbol.toUpperCase()}</div>
                        </div>
                        <span class="ml-auto ${isUp ? 'bg-secondary' : 'bg-primary'} text-white text-xs px-2 py-1 rounded-full flex items-center">
                            <i data-lucide="${isUp ? 'arrow-up' : 'arrow-down'}" class="h-3 w-3 mr-1"></i>
                            ${coin.price_change_percentage_24h.toFixed(2)}%
                        </span>
                    </div>
                    <div class="mb-2">
                        <div class="flex justify-between">
                            <span class="dark:text-gray-400 text-gray-600 text-xs">Price</span>
                            <span class="dark:text-gray-400 text-gray-600 text-xs">24h Change</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="font-medium dark:text-white text-dark">$${coin.current_price.toFixed(2)}</span>
                            <span class="${isUp ? 'text-secondary' : 'text-primary'}">
                                ${isUp ? '+' : '-'}$${Math.abs(coin.price_change_24h).toFixed(2)}
                            </span>
                        </div>
                    </div>
                    <div class="h-12 w-full">
                        <!-- Fallback sparkline SVG -->
                        <svg viewBox="0 0 100 30" preserveAspectRatio="none" class="w-full h-full">
                            <path d="M0,15 C20,5 40,25 60,15 S80,5 100,15" stroke="${isUp ? '#4A9D7F' : '#C88B65'}" stroke-width="1.5" fill="none"></path>
                        </svg>
                    </div>
                </div>`;
            });
            container.innerHTML = html;
            lucide.createIcons();
            calculateSizes(); // recalc sizes after content load
        })
        .catch(error => {
            console.error('Error fetching crypto data:', error);
        });

    // Carousel navigation functions
    function calculateSizes() {
        const containerWidth = container.parentElement.offsetWidth;
        const isMobile = window.innerWidth < 640;
        if (isMobile) {
            const firstItem = container.children[0];
            if (firstItem) {
                itemWidth = firstItem.offsetWidth + 16;
            }
        } else {
            itemWidth = 240 + 16;
        }
        const totalItems = container.children.length;
        const visibleItems = Math.max(1, Math.floor(containerWidth / itemWidth));
        maxPosition = Math.max(0, totalItems - visibleItems);
        if (position > maxPosition) {
            position = maxPosition;
            updatePosition();
        }
    }
    
    function updatePosition() {
        container.style.transform = `translateX(-${position * itemWidth}px)`;
    }
    
    prevBtn.addEventListener('click', function() {
        if (position > 0) {
            position--;
            updatePosition();
        }
    });
    
    nextBtn.addEventListener('click', function() {
        if (position < maxPosition) {
            position++;
            updatePosition();
        }
    });
    
    container.addEventListener('touchstart', function(e) {
        touchStartX = e.touches[0].clientX;
    }, { passive: true });
    
    container.addEventListener('touchend', function(e) {
        touchEndX = e.changedTouches[0].clientX;
        handleSwipe();
    }, { passive: true });
    
    function handleSwipe() {
        const swipeThreshold = 50;
        const swipeDistance = touchStartX - touchEndX;
        if (swipeDistance > swipeThreshold && position < maxPosition) {
            position++;
            updatePosition();
        } else if (swipeDistance < -swipeThreshold && position > 0) {
            position--;
            updatePosition();
        }
    }
    
    window.addEventListener('resize', function() {
        calculateSizes();
        updatePosition();
    });
});
</script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Balance visibility toggle functionality
        const toggleBtn = document.getElementById('toggleBalanceVisibility');
        const balanceAmount = document.getElementById('balanceAmount');
        const hiddenBalance = document.getElementById('hiddenBalance');
        const visibilityIcon = document.getElementById('visibilityIcon');
        
        // Check if balance visibility preference exists in localStorage
        const balanceVisible = localStorage.getItem('balanceVisible') !== 'false';
        
        // Set initial state
        setBalanceVisibility(balanceVisible);
        
        toggleBtn.addEventListener('click', function() {
            // Toggle visibility
            const isCurrentlyVisible = balanceAmount.classList.contains('hidden') === false;
            setBalanceVisibility(!isCurrentlyVisible);
            
            // Save preference
            localStorage.setItem('balanceVisible', !isCurrentlyVisible);
        });
        
        function setBalanceVisibility(visible) {
            if (visible) {
                balanceAmount.classList.remove('hidden');
                hiddenBalance.classList.add('hidden');
                visibilityIcon.setAttribute('data-lucide', 'eye');
            } else {
                balanceAmount.classList.add('hidden');
                hiddenBalance.classList.remove('hidden');
                visibilityIcon.setAttribute('data-lucide', 'eye-off');
            }
            
            // Re-initialize the icon
            if (typeof lucide !== 'undefined') {
                lucide.createIcons({
                    elements: [visibilityIcon]
                });
            }
        }
    });
</script>

    </div>

    <!-- Footer -->
    <div class="py-4 border-t dark:border-dark-100 border-light-200 text-center md:text-left hidden md:flex md:justify-between md:items-center px-4 md:px-6">
        <div>
            <p class="text-sm dark:text-gray-400 text-gray-600">All Rights Reserved &copy; Meritzinvestment 2025</p>
        </div>
    </div>
</div>
    </div>

    <!-- Mobile Navigation -->
    <!-- Modern Mobile Navigation -->
<div class="fixed bottom-0 left-0 right-0 z-[9990] md:hidden">
    <!-- Main Navigation Bar - Refined Design -->
    <div class="bg-gradient-to-b dark:from-dark-50 dark:to-dark from-light-100 to-light dark:border-dark-100/80 border-light-200/80 border-t pt-0.5">
        <!-- Interactive Track Bar -->
        <div class="mx-auto w-1/2 h-1 -mt-0.5 rounded-full bg-gradient-to-r from-primary/20 via-secondary/60 to-tertiary/20"></div>
        
        <!-- Navigation Items -->
        <div class="flex items-center justify-around h-16 relative px-2">
            <!-- Active Navigation Indicator (SVG-based) -->
            <svg class="absolute bottom-0 left-0 w-full h-12 z-0 pointer-events-none" preserveaspectratio="none">
                <defs>
                    <lineargradient id="activeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" stop-color="rgb(200, 139, 101)" stop-opacity="0.2"></stop>
                        <stop offset="50%" stop-color="rgb(200, 139, 101)" stop-opacity="0.1"></stop>
                        <stop offset="100%" stop-color="rgb(200, 139, 101)" stop-opacity="0.2"></stop>
                    </lineargradient>
                </defs>
                <rect id="nav-indicator" x="10%" y="0" width="20%" height="100%" rx="16" fill="url(#activeGradient)" style="display:none;"></rect>
            </svg>
            
            <!-- Home -->
            <a href="dashboard.html" class="flex flex-col items-center justify-center h-full w-full relative z-10 transition-all duration-200 nav-item active" data-index="0">
                <div class="nav-icon-wrapper text-primary transition-all duration-300">
                    <i data-lucide="home" class="h-5 w-5"></i>
                </div>
                <span class="text-xs mt-1 text-primary font-medium transition-all duration-300">Home</span>
            </a>
            
            <!-- Deposit -->
            <a href="dashboard/deposits.html" class="flex flex-col items-center justify-center h-full w-full relative z-10 transition-all duration-200 nav-item " data-index="1">
                <div class="nav-icon-wrapper dark:text-gray-400 text-gray-600 transition-all duration-300">
                    <i data-lucide="download" class="h-5 w-5"></i>
                </div>
                <span class="text-xs mt-1 dark:text-gray-400 text-gray-600 transition-all duration-300">Deposit</span>
            </a>
            
            <!-- Quick Actions (FAB) -->
            <div class="flex flex-col items-center h-full relative px-2 -mt-8">
                <button id="fab-button" class="h-14 w-14 rounded-full shadow-lg flex items-center justify-center relative z-20 bg-primary transform hover:scale-105 transition-all duration-300">
                    <svg class="absolute inset-0 w-full h-full" viewbox="0 0 100 100">
                        <circle cx="50" cy="50" r="48" fill="none" stroke-width="2" stroke="rgba(255,255,255,0.1)"></circle>
                        <circle cx="50" cy="50" r="48" fill="none" stroke-width="2" stroke="rgb(200, 139, 101)" stroke-dasharray="302" stroke-dashoffset="302" class="animate-dash"></circle>
                    </svg>
                    <i data-lucide="zap" class="h-6 w-6 text-white"></i>
                </button>
                <span class="text-xs dark:text-gray-400 text-gray-600 absolute -bottom-2">Actions</span>
            </div>
            
            <!-- History -->
            <a href="dashboard/accounthistory.html" class="flex flex-col items-center justify-center h-full w-full relative z-10 transition-all duration-200 nav-item " data-index="3">
                <div class="nav-icon-wrapper dark:text-gray-400 text-gray-600 transition-all duration-300">
                    <i data-lucide="history" class="h-5 w-5"></i>
                </div>
                <span class="text-xs mt-1 dark:text-gray-400 text-gray-600 transition-all duration-300">History</span>
            </a>
            
            <!-- Profile -->
            <a href="dashboard/account-settings.html" class="flex flex-col items-center justify-center h-full w-full relative z-10 transition-all duration-200 nav-item " data-index="4">
                <div class="nav-icon-wrapper dark:text-gray-400 text-gray-600 transition-all duration-300">
                    <i data-lucide="user" class="h-5 w-5"></i>
                </div>
                <span class="text-xs mt-1 dark:text-gray-400 text-gray-600 transition-all duration-300">Profile</span>
            </a>
        </div>
    </div>

    <!-- Floating Action Menu (hidden by default) -->
    <div id="fab-menu" class="hidden fixed inset-0 dark:bg-dark/70 bg-light/70 backdrop-blur-sm z-[9991] animate-in fade-in duration-300">
        <div class="absolute inset-x-0 bottom-24 flex flex-col items-center">
            <!-- Actions Grid -->
            <div class="flex flex-wrap justify-center gap-4 max-w-md mx-auto p-3">
                <!-- Invest -->
                                <a href="dashboard/buy-plan.html" class="w-[calc(33%-12px)] aspect-square flex flex-col items-center justify-center rounded-2xl bg-gradient-to-b from-secondary/20 to-secondary/5 border border-secondary/20 hover:from-secondary/30 transition-all duration-300 shadow-lg menu-item">
                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-secondary to-secondary/70 flex items-center justify-center mb-2">
                        <i data-lucide="trending-up" class="h-6 w-6 text-white"></i>
                    </div>
                    <span class="text-xs font-medium dark:text-white text-dark">Invest</span>
                </a>
                                
                <!-- Withdraw -->
                                <a href="user/confirm-password.html" class="w-[calc(33%-12px)] aspect-square flex flex-col items-center justify-center rounded-2xl bg-gradient-to-b from-primary/20 to-primary/5 border border-primary/20 hover:from-primary/30 transition-all duration-300 shadow-lg menu-item">
                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center mb-2">
                        <i data-lucide="upload" class="h-6 w-6 text-white"></i>
                    </div>
                    <span class="text-xs font-medium dark:text-white text-dark">Withdraw</span>
                </a>
                                
                <!-- Swap -->
                                <a href="dashboard/asset-balance.html" class="w-[calc(33%-12px)] aspect-square flex flex-col items-center justify-center rounded-2xl bg-gradient-to-b from-tertiary/20 to-tertiary/5 border border-tertiary/20 hover:from-tertiary/30 transition-all duration-300 shadow-lg menu-item">
                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-tertiary to-tertiary/70 flex items-center justify-center mb-2">
                        <i data-lucide="shuffle" class="h-6 w-6 text-white"></i>
                    </div>
                    <span class="text-xs font-medium dark:text-white text-dark">Swap</span>
                </a>
                                
                <!-- Refer -->
                <a href="dashboard/referuser.html" class="w-[calc(33%-12px)] aspect-square flex flex-col items-center justify-center rounded-2xl bg-gradient-to-b from-accent/20 to-accent/5 border border-accent/20 hover:from-accent/30 transition-all duration-300 shadow-lg menu-item">
                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-accent to-accent/70 flex items-center justify-center mb-2">
                        <i data-lucide="users" class="h-6 w-6 text-white"></i>
                    </div>
                    <span class="text-xs font-medium dark:text-white text-dark">Refer</span>
                </a>
                
                <!-- Support -->
                <a href="dashboard/support.html" class="w-[calc(33%-12px)] aspect-square flex flex-col items-center justify-center rounded-2xl bg-gradient-to-b from-danger/20 to-danger/5 border border-danger/20 hover:from-danger/30 transition-all duration-300 shadow-lg menu-item">
                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-danger to-danger/70 flex items-center justify-center mb-2">
                        <i data-lucide="headphones" class="h-6 w-6 text-white"></i>
                    </div>
                    <span class="text-xs font-medium dark:text-white text-dark">Support</span>
                </a>
                
                <!-- News -->
                <a href="#" class="w-[calc(33%-12px)] aspect-square flex flex-col items-center justify-center rounded-2xl bg-gradient-to-b from-purple/20 to-purple/5 border border-purple/20 hover:from-purple/30 transition-all duration-300 shadow-lg menu-item">
                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-purple to-purple/70 flex items-center justify-center mb-2">
                        <i data-lucide="newspaper" class="h-6 w-6 text-white"></i>
                    </div>
                    <span class="text-xs font-medium dark:text-white text-dark">News</span>
                </a>
            </div>
            
            <!-- Close Button -->
            <button id="fab-close" class="mt-8 w-12 h-12 rounded-full dark:bg-dark-100/80 bg-light-200/80 dark:border-dark-100 border-light-200 border flex items-center justify-center">
                <i data-lucide="x" class="h-6 w-6 dark:text-white text-dark"></i>
            </button>
        </div>
    </div>
</div>

<style>
/* SVG Animation */
@keyframes  dash {
  to {
    stroke-dashoffset: 0;
  }
}

.animate-dash {
  animation: dash 2s ease-in-out infinite alternate;
}

/* Navigation item active highlight effect */
.nav-item.active .nav-icon-wrapper::after {
    transform: scale(1);
    opacity: 1;
} 

.nav-icon-wrapper {
    position: relative;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.nav-icon-wrapper::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: rgba(200, 139, 101, 0.1);
    transform: scale(0);
    opacity: 0;
    transition: transform 0.3s ease, opacity 0.3s ease;
}

.nav-item.active .nav-icon-wrapper::after {
    transform: scale(1);
    opacity: 1;
}

/* Animation for menu items */
.menu-item {
    animation: menu-appear 0.4s backwards;
}

@keyframes  menu-appear {
    from {
        opacity: 0;
        transform: scale(0.8) translateY(20px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* Active indicator transition */
#nav-indicator {
    transition: x 0.3s ease;
}
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Get elements
        const fabButton = document.getElementById('fab-button');
        const fabMenu = document.getElementById('fab-menu');
        const fabClose = document.getElementById('fab-close');
        const navItems = document.querySelectorAll('.nav-item');
        const navIndicator = document.getElementById('nav-indicator');
        
        // Add active class to current navigation item
        navItems.forEach(item => {
            if (window.location.href.includes(item.getAttribute('href'))) {
                item.classList.add('active');
                
                // Set indicator position for active item
                const index = item.dataset.index;
                if (navIndicator && index !== undefined) {
                    navIndicator.style.display = 'block';
                    updateIndicatorPosition(parseInt(index));
                }
            }
            
            // Add click handler to update indicator position
            item.addEventListener('click', function() {
                const index = this.dataset.index;
                if (navIndicator && index !== undefined) {
                    updateIndicatorPosition(parseInt(index));
                }
            });
        });
        
        // Update the indicator position - Fixed calculation
        function updateIndicatorPosition(index) {
            if (!navIndicator) return;
            
            // Calculate the x position based on index
            // Each item takes 20% width (5 items total)
            // We add 10% to center the indicator (20% item width - 10% offset)
            const translateX = (index * 20) + '%';
            navIndicator.setAttribute('x', translateX);
        }
        
        // FAB button functionality
        if (fabButton && fabMenu && fabClose) {
            // Open menu
            fabButton.addEventListener('click', function() {
                fabMenu.classList.remove('hidden');
                
                // Stagger animation for menu items
                const menuItems = document.querySelectorAll('.menu-item');
                menuItems.forEach((item, index) => {
                    item.style.animationDelay = `${index * 0.05}s`;
                });
                
                // Change FAB icon
                const fabIcon = fabButton.querySelector('i');
                if (fabIcon) {
                    fabIcon.setAttribute('data-lucide', 'x');
                    lucide.createIcons();
                }
            });
            
            // Close menu
            fabClose.addEventListener('click', function() {
                fabMenu.classList.add('hidden');
                
                // Change FAB icon back
                const fabIcon = fabButton.querySelector('i');
                if (fabIcon) {
                    fabIcon.setAttribute('data-lucide', 'zap');
                    lucide.createIcons();
                }
            });
            
            // Close menu when clicking outside (on the backdrop)
            fabMenu.addEventListener('click', function(e) {
                if (e.target === fabMenu) {
                    fabMenu.classList.add('hidden');
                    
                    // Change FAB icon back
                    const fabIcon = fabButton.querySelector('i');
                    if (fabIcon) {
                        fabIcon.setAttribute('data-lucide', 'zap');
                        lucide.createIcons();
                    }
                }
            });
        }
    });
</script>
    <!-- Core Scripts -->
    <script src="jquery-3.6.0.min.js"></script>
    <script src="ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
    <script src="dash2/libs/sweetalert/sweetalert.min.js"></script>
    <script type="text/javascript" src="v/bs4/dt-1.10.21/af-2.3.5/b-1.6.3/b-flash-1.6.3/b-html5-1.6.3/b-print-1.6.3/r-2.2.5/datatables.min.js"></script>
<script>
        lucide.createIcons();
    </script>
    <!-- Theme Management Script -->
    <script>
        // Theme initialization
        document.addEventListener('DOMContentLoaded', function() {
            // Check for saved theme preference or use system preference
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const savedTheme = localStorage.getItem('darkMode');

            if (savedTheme === 'true' || (savedTheme === null && prefersDark)) {
                document.documentElement.classList.add('dark');
            } else if (savedTheme === 'false') {
                document.documentElement.classList.remove('dark');
            }

            // Update theme switcher icon
            updateThemeIcon();
        });

        // Function to toggle theme
        function toggleTheme() {
            if (document.documentElement.classList.contains('dark')) {
                document.documentElement.classList.remove('dark');
                localStorage.setItem('darkMode', 'false');
            } else {
                document.documentElement.classList.add('dark');
                localStorage.setItem('darkMode', 'true');
            }

            // Update the icon
            updateThemeIcon();
        }

        // Update theme icon based on current theme
        function updateThemeIcon() {
            const isDark = document.documentElement.classList.contains('dark');
            const sunIcon = document.querySelector('[data-lucide="sun"]');
            const moonIcon = document.querySelector('[data-lucide="moon"]');

            if (sunIcon && moonIcon) {
                if (isDark) {
                    sunIcon.style.display = 'block';
                    moonIcon.style.display = 'none';
                } else {
                    sunIcon.style.display = 'none';
                    moonIcon.style.display = 'block';
                }
            }
        }
    </script>

    <!-- Initialize Lucide Icons -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            lucide.createIcons();

            // Mobile menu toggle functionality
            const menuToggles = document.querySelectorAll('[data-action="sidenav-pin"]');
            const sidebar = document.getElementById('sidenav-main');

            if (menuToggles.length > 0 && sidebar) {
                menuToggles.forEach(toggle => {
                    toggle.addEventListener('click', function(e) {
                        e.preventDefault();
                        sidebar.classList.toggle('active');
                        sidebar.classList.toggle('hidden');
                        sidebar.classList.toggle('md:block');
                    });
                });

                // Close sidebar when clicking outside on mobile
                document.addEventListener('click', function(e) {
                    const isMobile = window.innerWidth < 768;
                    const clickedInside = sidebar.contains(e.target);
                    const clickedToggle = Array.from(menuToggles).some(toggle => toggle.contains(e.target));

                    if (isMobile && !clickedInside && !clickedToggle && sidebar.classList.contains('active')) {
                        sidebar.classList.remove('active');
                        sidebar.classList.add('hidden');
                        sidebar.classList.add('md:block');
                    }
                });
            }

            // Initialize Select2
            if ($.fn.select2) {
                $('.select2').select2();
            }

            // Initialize DataTables responsively
            if ($.fn.DataTable) {
                $('.datatable').DataTable({
                    responsive: true,
                    dom: '<"top"fl>rt<"bottom"ip>',
                    language: {
                        search: "",
                        searchPlaceholder: "Search..."
                    }
                });
            }
        });
    </script>

   <script src="widget/4shHsiHCSe" async=""></script>






















   

    <script src="livewire/livewire.js?id=90730a3b0e7144480175" data-turbo-eval="false" data-turbolinks-eval="false"></script><script data-turbo-eval="false" data-turbolinks-eval="false">window.livewire = new Livewire();window.Livewire = window.livewire;window.livewire_app_url = '';window.livewire_token = '9AUencLeaPkQhuF6eaDjc5RaG1AcsUUE0ur7vKWI';window.deferLoadingAlpine = function (callback) {window.addEventListener('livewire:load', function () {callback();});};let started = false;window.addEventListener('alpine:initializing', function () {if (! started) {window.livewire.start();started = true;}});document.addEventListener("DOMContentLoaded", function () {if (! started) {window.livewire.start();started = true;}});</script>
    </body>
</html>
